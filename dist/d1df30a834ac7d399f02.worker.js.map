{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/quadTree.js","webpack:///./src/layout/force.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","points","xs","ys","x1_","y1_","x2_","y2_","Infinity","length","x","y","push","dx","dy","insert","x1","y1","x2","y2","leaf","nx","ny","insertChild","nPoint","point","xm","ym","right","below","nodes","root","visit","f","node","sx","sy","children","find","x0","y0","x3","y3","minDistance2","closestPoint","distance2","distance","Math","sqrt","j","findNode","Force","edges","options","friction","charge","gravity","theta2","size","chargeDistance2","alpha","distances","strengths","charges","repulse","quad","_","cx","cy","dw","dn","k","px","py","pointCharge","step","q","source","target","weight","accumulate","random","index","_quadTree__WEBPACK_IMPORTED_MODULE_0___default","fixed","rnd","min","max","fixed2","undefined","minX","maxX","minY","maxY","this","apply","floor","self","addEventListener","e","data","layout_options","postMessage"],"mappings":"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","file":"d1df30a834ac7d399f02.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n *  Copyright (c) 2016, Helikar Lab.\n *  All rights reserved.\n *\n *  This source code is licensed under the GPLv3 License.\n *  Author: David Tichy\n */\n\nexport default function(points) {\n    let d, xs, ys, i, n, x1_, y1_, x2_, y2_;\n\n    x2_ = y2_ = -(x1_ = y1_ = Infinity);\n    xs = [], ys = [];\n    n = points.length;\n\n    for (i = 0; i < n; ++i) {\n        d = points[i];\n        if (d.x < x1_) x1_ = d.x;\n        if (d.y < y1_) y1_ = d.y;\n        if (d.x > x2_) x2_ = d.x;\n        if (d.y > y2_) y2_ = d.y;\n        xs.push(d.x);\n        ys.push(d.y);\n    }\n\n    let dx = x2_ - x1_;\n    let dy = y2_ - y1_;\n    dx > dy ? y2_ = y1_ + dx : x2_ = x1_ + dy;\n\n    function create() {\n        return {\n            leaf: true,\n            nodes: [],\n            point: null,\n            x: null,\n            y: null\n        };\n    }\n\n    function visit(f, node, x1, y1, x2, y2) {\n        if (!f(node, x1, y1, x2, y2)) {\n            let sx = (x1 + x2) * 0.5;\n            let sy = (y1 + y2) * 0.5;\n            let children = node.nodes;\n\n            if (children[0]) visit(f, children[0], x1, y1, sx, sy);\n            if (children[1]) visit(f, children[1], sx, y1, x2, sy);\n            if (children[2]) visit(f, children[2], x1, sy, sx, y2);\n            if (children[3]) visit(f, children[3], sx, sy, x2, y2);\n        }\n    }\n\n    function insert(n, d, x, y, x1, y1, x2, y2) {\n        if (n.leaf) {\n            let nx = n.x;\n            let ny = n.y;\n\n            if (nx !== null) {\n                if (nx === x && ny === y) {\n                    insertChild(n, d, x, y, x1, y1, x2, y2);\n                }\n                else {\n                    let nPoint = n.point;\n                    n.x = n.y = n.point = null;\n                    insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);\n                    insertChild(n, d, x, y, x1, y1, x2, y2);\n                }\n            } else {\n                n.x = x, n.y = y, n.point = d;\n            }\n        } else {\n            insertChild(n, d, x, y, x1, y1, x2, y2);\n        }\n    }\n\n    function insertChild(n, d, x, y, x1, y1, x2, y2) {\n        let xm = (x1 + x2) * 0.5;\n        let ym = (y1 + y2) * 0.5;\n        let right = x >= xm;\n        let below = y >= ym;\n        let i = below << 1 | right;\n\n        n.leaf = false;\n        n = n.nodes[i] || (n.nodes[i] = create());\n\n        right ? x1 = xm : x2 = xm;\n        below ? y1 = ym : y2 = ym;\n        insert(n, d, x, y, x1, y1, x2, y2);\n    }\n\n    function findNode(root, x, y, x0, y0, x3, y3) {\n        let minDistance2 = Infinity;\n        let closestPoint;\n\n        (function find(node, x1, y1, x2, y2) {\n            if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;\n\n            if (point = node.point) {\n                let point;\n                let dx = x - node.x;\n                let dy = y - node.y;\n                let distance2 = dx * dx + dy * dy;\n\n                if (distance2 < minDistance2) {\n                    let distance = Math.sqrt(minDistance2 = distance2);\n                    x0 = x - distance, y0 = y - distance;\n                    x3 = x + distance, y3 = y + distance;\n                    closestPoint = point;\n                }\n            }\n\n            let children = node.nodes;\n            let xm = (x1 + x2) * .5;\n            let ym = (y1 + y2) * .5;\n            let right = x >= xm;\n            let below = y >= ym;\n\n            for (let i = below << 1 | right, j = i + 4; i < j; ++i) {\n                if (node = children[i & 3]) switch (i & 3) {\n                    case 0: find(node, x1, y1, xm, ym); break;\n                    case 1: find(node, xm, y1, x2, ym); break;\n                    case 2: find(node, x1, ym, xm, y2); break;\n                    case 3: find(node, xm, ym, x2, y2); break;\n                }\n            }\n        })(root, x0, y0, x3, y3);\n\n        return closestPoint;\n    }\n\n    let root = create();\n    root.visit = f => visit(f, root, x1_, y1_, x2_, y2_);\n    root.find = (x, y) => findNode(root, x, y, x1_, y1_, x2_, y2_);\n\n    for (i = 0; i < n; i++) insert(root, points[i], xs[i], ys[i], x1_, y1_, x2_, y2_);\n    --i;\n\n    xs = ys = points = d = null;\n\n    return root;\n};","import ccNetViz_quadtree from '../quadTree';\n/**\n *  Copyright (c) 2016, Helikar Lab.\n *  All rights reserved.\n *\n *  This source code is licensed under the GPLv3 License.\n *  Author: David Tichy\n */\n \nfunction Force(nodes, edges, options = {}) {\n    const edgeDistance = 15,\n        edgeStrength = 1,\n        friction = 0.9,\n        charge = -30,\n        gravity = 0.4,\n        theta2 = .64,\n        size = [1,1],\n        chargeDistance2 = Infinity;\n\n    let   alpha,\n          distances = [],\n          strengths = [],\n          charges = [];\n\n\n    function accumulate(quad, alpha, charges) {\n        let cx = 0, cy = 0;\n        quad.charge = 0;\n        if (!quad.leaf) {\n            let nodes = quad.nodes;\n            let c, n = nodes.length;\n\n            for (let i = 0; i < n; i++) {\n                c = nodes[i];\n                if (c == null) continue;\n                accumulate(c, alpha, charges);\n                quad.charge += c.charge;\n                cx += c.charge * c.cx;\n                cy += c.charge * c.cy;\n            }\n        }\n        if (quad.point) {\n            if (!quad.leaf) {\n                quad.point.x += Math.random() - 0.5;\n                quad.point.y += Math.random() - 0.5;\n            }\n            let k = alpha * charges[quad.point.index];\n            quad.charge += quad.pointCharge = k;\n            cx += k * quad.point.x;\n            cy += k * quad.point.y;\n        }\n        quad.cx = cx / quad.charge;\n        quad.cy = cy / quad.charge;\n    }\n\n    function repulse(node) {\n        return function(quad, x1, _, x2) {\n            if (quad.point !== node) {\n                let dx = quad.cx - node.x;\n                let dy = quad.cy - node.y;\n                let dw = x2 - x1;\n                let dn = dx * dx + dy * dy;\n\n                if (dw * dw / theta2 < dn) {\n                    if (dn < chargeDistance2) {\n                        let k = quad.charge / dn;\n                        node.px -= dx * k;\n                        node.py -= dy * k;\n                    }\n                    return true;\n                }\n\n                if (quad.point && dn && dn < chargeDistance2) {\n                    let k = quad.pointCharge / dn;\n                    node.px -= dx * k;\n                    node.py -= dy * k;\n                }\n            }\n            return !quad.charge;\n        };\n    }\n\n    function step() {\n        if ((alpha *= .99) < .05) {\n            alpha = 0;\n            return true;\n        }\n\n        let q, o, s, t, l, k, x, y;\n        let n = nodes.length;\n        let m = edges.length;\n\n        for (let i = 0; i < m; i++) {\n            o = edges[i];\n            s = o.source;\n            t = o.target;\n            x = t.x - s.x;\n            y = t.y - s.y;\n            if (l = (x * x + y * y)) {\n                l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n                x *= l;\n                y *= l;\n                t.x -= x * (k = s.weight / (t.weight + s.weight));\n                t.y -= y * k;\n                s.x += x * (k = 1 - k);\n                s.y += y * k;\n            }\n        }\n\n        if (k = alpha * gravity) {\n            x = size[0] / 2;\n            y = size[1] / 2;\n\n            for (let i = 0; i < n; i++) {\n                o = nodes[i];\n                o.x += (x - o.x) * k;\n                o.y += (y - o.y) * k;\n            }\n        }\n\n        if (charge) {\n            accumulate(q = ccNetViz_quadtree(nodes), alpha, charges);\n\n            for (let i = 0; i < n; i++) {\n                let o = nodes[i];\n                !o.fixed && q.visit(repulse(o));\n            }\n        }\n\n        const rnd = (min,max) => Math.random() * (max-min) + min;\n        for (let i = 0; i < n; i++) {\n            o = nodes[i];\n            if (o.fixed || o.fixed2) {\n                o.x = o.px;\n                o.y = o.py;\n            }\n            else {\n                o.x -= (o.px - (o.px = o.x)) * friction;\n                o.y -= (o.py - (o.py = o.y)) * friction;\n\n                if(options && options.minX !== undefined){\n                    if(o.x < options.minX || o.x > options.maxX){\n                        o.x = rnd(options.minX, options.maxX);\n                    }\n                    if(o.y < options.minY || o.y > options.maxY){\n                        o.y = rnd(options.minY, options.maxY);\n                    }\n                }\n            }\n        }\n    };\n\n    this.apply = function() {\n        let n = nodes.length;\n        let d = Math.sqrt(n);\n        let s = 0.3 / d;\n\n        for (let i = 0; i < n; i++) {\n            let o = nodes[i];\n            o.weight = 0;\n            o.x = o.x !== undefined ? o.x : s + (i % d) / d;\n            o.y = o.y !== undefined ? o.y : s + Math.floor(i / d) / d;\n            o.px = o.x;\n            o.py = o.y;\n            charges[i] = charge;\n        }\n\n        for (let i = 0; i < edges.length; i++) {\n            let o = edges[i];\n            o.source.weight++;\n            o.target.weight++;\n            distances[i] = edgeDistance;\n            strengths[i] = edgeStrength;\n        }\n\n        alpha = 0.1;\n        while (!step());\n\n        return true;\n    };\n};\n\nself.addEventListener('message', function (e) {\n    var nodes = e.data.nodes;\n    var edges = e.data.edges;\n    var layout_options = e.data.layout_options;\n    new Force(nodes, edges, layout_options).apply();\n    self.postMessage({nodes, edges});\n}, false);"],"sourceRoot":""}