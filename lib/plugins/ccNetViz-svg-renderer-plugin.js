!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";const n=Object.prototype.toString;t.exports=function(t){return n.call(t).endsWith("Array]")}},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.r(e);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,i;return e=t,i=[{key:"edgeSource",value:function(t){if(t.source.source){var e=this.edgeSource(t.source),r=this.edgeTarget(t.source);return{x:(e.x+r.x)/2,y:(e.y+r.y)/2,uniqid:t.uniqid,index:t.index,is_edge:!0,e:t.source}}return t.source}},{key:"edgeTarget",value:function(t){if(t.target.source){var e=this.edgeSource(t.target),r=this.edgeTarget(t.target);return{x:(e.x+r.x)/2,y:(e.y+r.y)/2,uniqid:t.uniqid,index:t.index,is_edge:!0,e:t.target}}return t.target}},{key:"getCurveShift",value:function(t,e){if((e=e||{}).x=e.y=e.cx=e.cy=0,!t)return e;if(t.t&&t.t>=1)if(t.t>=2){var r=this.edgeSource(t).y<.5?1:-1;e.cx=1.25*r,e.cy=0}else{var n=this.edgeSource(t),i=this.edgeTarget(t);e.x=n.x-i.x,e.y=n.y-i.y}return e}}],(r=null)&&n(e.prototype,r),i&&n(e,i),t}();function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"getSVGDimensions",value:function(t){return{height:t.getAttribute("height"),width:t.getAttribute("width")}}},{key:"getNodesCnt",value:function(t){return t.nodes.length}},{key:"getEdgesCnt",value:function(t){return t.lines.length+t.curves.length+t.circles.length}},{key:"getSize",value:function(t,e,r,n){var i=this.getSVGDimensions(t),o=.5*i.height,s=.5*i.width,a=n*Math.sqrt(s*o/(r+1));if(e){var h=e.size?e.size:e.minSize,u=e.size?e.size:e.maxSize;if((a=u?Math.min(u,a):a)<e.hideSize)return 0;a=h?Math.max(h,a):a}return a}}],(r=null)&&o(e.prototype,r),n&&o(e,n),t}();function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"lazyCacheArrow",value:function(t,e){var r=this.generateArrowHeadId(t);if(r in e)return e[r];var n=this.generateArrowHead(t,r);return e[r]=n,n}},{key:"generateArrowHeadId",value:function(t){var e=10;t.arrow&&t.arrow.size&&(e=t.arrow.size);var r=t.color||"rgb(204, 204, 204)",n=t.targetNodeRadius||5,i=e+"-"+(r=(r=(r=(r=r.replace(/\s+/g,"-")).replace("(","-")).replace(")","-")).replace(",",""))+n;return i.replace(/\s+/g,"-"),i}},{key:"generateArrowHead",value:function(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","marker"),o=t.arrow.size,s="M0,0 L0,"+o+"L"+o+","+o/2+" z";return n.setAttribute("d",s),n.setAttribute("fill",t.color||"rgb(204, 204, 204)"),i.setAttribute("markerWidth",o),i.setAttribute("markerHeight",o),i.setAttribute("id",e),i.setAttribute("refX",o+t.targetNodeRadius+1),i.setAttribute("refY",o/2),i.setAttribute("orient","auto"),i.setAttribute("markerUnits","userSpaceOnUse"),i.appendChild(n),r.appendChild(i),r}},{key:"updateStyles",value:function(t,e,r,n,i){var o,s,a=t.nodes.find((function(t){return t.uniqid==r.uniqid}));void 0===(s=a&&void 0!==a.style?n[a.style]:n.node)&&(s=n.node),void 0!==e.style&&(o=n[e.style]),void 0===o&&(o=n.edge);var h=s.size;return s&&void 0!==s.texture&&(h-=h/2),void 0===r.index||void 0===a?o.targetNodeRadius=1:o.targetNodeRadius=h/2,o.width=o.width||1,o.color=o.color||"rgb(204, 204, 204)",i=i>o.arrow.maxSize?o.arrow.maxSize:i<=o.arrow.maxSize&&i>=o.arrow.minSize?i:i<o.arrow.minSize&&i>=o.arrow.hideSize?o.arrow.minSize:0,o.arrow.size=i,o}}],(r=null)&&a(e.prototype,r),n&&a(e,n),t}();function u(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){u(o,n,i,s,a,"next",t)}function a(t){u(o,n,i,s,a,"throw",t)}s(void 0)}))}}var l=function(){this.set=function(){var t=c(regeneratorRuntime.mark((function t(e,r,n,o){var a,u,c,l,f,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.lines,u=s.getSize(r,n.edge.arrow,s.getEdgesCnt(e),.2),c=0;case 3:if(!(c<a.length)){t.next=13;break}return l=a[c],f=i.edgeTarget(l),(v=h.updateStyles(e,l,f,n,u)).arrowHead=h.lazyCacheArrow(v,o),t.next=10,this.draw(r,l,v);case 10:c++,t.next=3;break;case 13:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),this.draw=function(){var t=c(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,u,c,l,f,v,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=s.getSVGDimensions(e).height,o=s.getSVGDimensions(e).width,a=r.position.x1*o,u=r.position.y1*i,c=r.position.x2*o,l=r.position.y2*i,(f=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("id",r.uniqid),f.setAttribute("x1",a),f.setAttribute("y1",u),f.setAttribute("x2",c),f.setAttribute("y2",l),f.setAttribute("stroke",n.color||"rgb(204, 204, 204)"),f.setAttribute("stroke-width",n.width||1),v=h.generateArrowHeadId(n),d="url(#"+v+")",f.setAttribute("marker-end",d),e.append(n.arrowHead),e.append(f);case 19:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()};function f(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){f(o,n,i,s,a,"next",t)}function a(t){f(o,n,i,s,a,"throw",t)}s(void 0)}))}}var d=function(){this.set=function(){var t=v(regeneratorRuntime.mark((function t(e,r,n,o){var a,u,c,l,f,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.curves,u=s.getSize(r,n.edge.arrow,s.getEdgesCnt(e),.2),c=0;case 3:if(!(c<a.length)){t.next=13;break}return l=a[c],f=i.edgeTarget(l),(v=h.updateStyles(e,l,f,n,u)).arrowHead=h.lazyCacheArrow(v,o),t.next=10,this.draw(r,l,v);case 10:c++,t.next=3;break;case 13:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),this.draw=function(){var t=v(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,u,c,l,f,v,d,g,m,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=s.getSVGDimensions(e).height,o=s.getSVGDimensions(e).width,a=r.position.x1*o,u=r.position.y1*i,c=r.position.x2*o,l=r.position.y2*i,f=r.position.cx*o,v=r.position.cy*i,d="M"+a+" "+u+" Q "+(2*f-(a+c)/2)+" "+(2*v-(u+l)/2)+" "+c+" "+l,(g=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("id",r.uniqid),g.setAttribute("d",d),g.setAttribute("stroke",n.color||"rgb(204, 204, 204)"),g.setAttribute("stroke-width",n.width||1),g.setAttribute("fill","none"),m=h.generateArrowHeadId(n),p="url(#"+m+")",g.setAttribute("marker-end",p),e.append(n.arrowHead),e.append(g);case 24:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()};function g(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){g(o,n,i,s,a,"next",t)}function a(t){g(o,n,i,s,a,"throw",t)}s(void 0)}))}}var p=function(){this.set=function(){var t=m(regeneratorRuntime.mark((function t(e,r,n,o){var a,u,c,l,f,v,d,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.circles,u=s.getSize(r,n.arrow,s.getEdgesCnt(e),.2),c=0;case 3:if(!(c<a.length)){t.next=16;break}return l=a[c],f=i.edgeTarget(l),(v=h.updateStyles(e,l,f,n,u)).arrowHead=h.lazyCacheArrow(v,o),d=s.getNodesCnt(e),g=s.getEdgesCnt(e),v.curve=g/d,t.next=13,this.draw(r,l,v);case 13:c++,t.next=3;break;case 16:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),this.draw=function(){var t=m(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,u,c,l,f,v,d,g,m,p,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=s.getSVGDimensions(e).height,o=s.getSVGDimensions(e).width,a=r.position.x1*o,u=r.position.y1*i,c=r.position.cx1*o,l=r.position.cy1*i,f=r.position.x2*o,v=r.position.y2*i,d=r.position.cx2*o,r.position.cy2*i,g="M"+a+","+u+" C"+(2*c-a)+","+(v+(v-l)+(v-l)/2)+" "+(2*d-f)+","+(v+(v-l)+(v-l)/2)+" "+a+","+u,(m=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",g),m.setAttribute("stroke",n.color||"rgb(204, 204, 204)"),m.setAttribute("stroke-width",n.width||1),m.setAttribute("fill","none"),m.setAttribute("id",r.uniqid),p=h.generateArrowHeadId(n),w="url(#"+p+")",m.setAttribute("marker-end",w),e.append(n.arrowHead),e.append(m);case 26:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()};function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"updateStyles",value:function(t,e,r,n){var i;return void 0!==r.style&&(i=n[r.style]),void 0===i&&(i=n.node),i}}],(r=null)&&w(e.prototype,r),n&&w(e,n),t}();function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=function t(e){if(x(this,t),this.r=this.g=this.b=0,this.a=1,e instanceof t)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a;else if(arguments.length>=3)this.r=arguments[0],this.g=arguments[1],this.b=arguments[2],arguments.length>3&&(this.a=arguments[3]);else if(/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.test(e)){e=/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.exec(e);var r=function(t){return parseInt(t,10)/255};this.r=r(e[1]),this.g=r(e[2]),this.b=r(e[3]),this.a=r(e[4])}else if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){e=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);var n=function(t){return parseInt(t,10)/255};this.r=n(e[1]),this.g=n(e[2]),this.b=n(e[3])}else if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){e=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);var i=function(t){return parseInt(t,10)/100};this.r=i(e[1]),this.g=i(e[2]),this.b=i(e[3])}else/^\#([0-9a-f]{6})$/i.test(e)&&(e=parseInt(e.substring(1),16),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255)};function _(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function M(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){_(o,n,i,s,a,"next",t)}function a(t){_(o,n,i,s,a,"throw",t)}s(void 0)}))}}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n,i,o;return e=t,(r=[{key:"rgbStringToInt",value:function(t){return t.substring(4,t.length-1).replace(/ /g,"").split(",")}},{key:"convertColor",value:function(t,e){for(var r=new b(e.color),n=0;n<t.length;n+=4)t[n+0]*=r.r,t[n+1]*=r.g,t[n+2]*=r.b,t[n+3]*=r.a}},{key:"lazyCacheNodes",value:(o=M(regeneratorRuntime.mark((function t(e,r,n,i,o,s){var a,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!((a=this.generateNodeKey(o))in s)){t.next=7;break}return t.next=5,this.appendNodeImage(e,r,n,i,o,s[a]);case 5:t.next=13;break;case 7:return t.next=9,this.getImageData(o);case 9:return h=t.sent,s[a]=h,t.next=13,this.appendNodeImage(e,r,n,i,o,h);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])}))),function(t,e,r,n,i,s){return o.apply(this,arguments)})},{key:"generateNodeKey",value:function(t){return(t.size||16)+"-"+t.texture+"-"+(t.color||"null")}},{key:"getImageData",value:(i=M(regeneratorRuntime.mark((function t(e){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.texture,t.abrupt("return",new Promise((function(t,i){var o=document.createElement("canvas");o.id="nodeCanvas";var s=new Image;s.src=r,s.onload=function(){o.width=s.height,o.height=s.height;var r=o.getContext("2d");r.drawImage(s,0,0);var i=r.getImageData(0,0,o.width,o.height);void 0!==e.color&&n.convertColor(i.data,e),r.putImageData(i,0,0);var a=o.toDataURL();t(a)}})));case 2:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"appendNodeImage",value:function(t,e,r,n,i,o){return new Promise((function(s,a){var h=new Image;h.src=o,h.onload=function(){var o=document.createElementNS("http://www.w3.org/2000/svg","image"),a=i.size||5;o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.src),o.setAttribute("x",e-a/2),o.setAttribute("y",r-a/2),o.setAttribute("id",n),o.setAttribute("height",a),o.setAttribute("width",a),t.append(o),s()}}))}}])&&S(e.prototype,r),n&&S(e,n),t}();function k(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function A(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){k(o,n,i,s,a,"next",t)}function a(t){k(o,n,i,s,a,"throw",t)}s(void 0)}))}}var R=function(){var t={};this.set=function(){var t=A(regeneratorRuntime.mark((function t(e,r,n){var i,o,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=e.nodes,o=0;o<i.length;o++)s=i[o],a=y.updateStyles(r,e,s,n),this.draw(r,s,a);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),this.customeNode=function(){var e=A(regeneratorRuntime.mark((function e(r,n,i,o,s){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new E,e.next=3,a.lazyCacheNodes(r,n,i,"node-"+o,s,t);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),this.draw=function(){var t=A(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.getSVGDimensions(e).height,o=s.getSVGDimensions(e).width,a=r.x*i,h=r.y*o,"http://www.w3.org/2000/svg",(u=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttributeNS(null,"cx",a),u.setAttributeNS(null,"cy",h),u.setAttributeNS(null,"r",n.size/2||5),!n||void 0===n.texture){t.next=14;break}return t.next=12,this.customeNode(e,a,h,r.uniqid,n);case 12:t.next=18;break;case 14:u.setAttributeNS(null,"id","node-"+r.uniqid),u.setAttributeNS(null,"fill",n&&n.color||"black"),u.setAttributeNS(null,"stroke","none"),e.appendChild(u);case 18:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()};function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"updateStyles",value:function(t,e,r){var n;return void 0!==t.style&&(n=e[t.style]),void 0===n&&(n=e.node),r<n.label.hideSize&&(n.label.font.size=0),n}},{key:"updatePosition",value:function(t,e,r,n,i){var o=e.x*n,s=e.y*r,a=i&&i.size?i.size/2:5,h=i&&i.font&&i.font.size?i.font.size:16;if(o<=n/2&&s<=r/2)t.setAttribute("alignment-baseline","hanging"),s+=a;else if(o>=n/2&&s<=r/2)t.setAttribute("alignment-baseline","hanging"),t.setAttribute("text-anchor","end"),s+=a;else if(o<=n/2&&s>=r/2){var u=h*e.label.split(" ").length;t.setAttribute("alignment-baseline","baseline"),s=s-a-u}else{var c=h*e.label.split(" ").length;t.setAttribute("alignment-baseline","baseline"),t.setAttribute("text-anchor","end"),s=s-a-c}return this.convertText(t,e.label,o,s,i),{x:o,y:s}}},{key:"convertText",value:function(t,e,r,n,i){var o=i.label.font,s=e.split(" "),a=o.size,h=o.weight,u=o.family;s.map((function(e,n){var i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttribute("x",r),0==n?i.setAttribute("dy","0.7em"):i.setAttribute("dy","1.2em"),i.setAttribute("font-weight",h),i.setAttribute("font-style",h),i.setAttribute("font-family",u);var o=document.createTextNode(e);i.appendChild(o),t.setAttribute("font-size",a),t.appendChild(i)}))}}],(r=null)&&T(e.prototype,r),n&&T(e,n),t}();function P(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function I(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){P(o,n,i,s,a,"next",t)}function a(t){P(o,n,i,s,a,"throw",t)}s(void 0)}))}}var N=function(){this.set=function(){var t=I(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.nodes,o=s.getSize(r,n.node,s.getNodesCnt(e),.25),a=0;case 3:if(!(a<i.length)){t.next=11;break}return h=i[a],u=C.updateStyles(h,n,o),t.next=8,this.draw(r,h,u);case 8:a++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),this.draw=function(){var t=I(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,h,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=s.getSVGDimensions(e).height,o=s.getSVGDimensions(e).width,a=document.createElementNS("http://www.w3.org/2000/svg","text"),h=C.updatePosition(a,r,i,o,n),u=h.x,c=h.y,l=n&&n.label&&n.label.color?n.label.color:"black",a.setAttributeNS(null,"x",u),a.setAttributeNS(null,"y",c),a.setAttributeNS(null,"fill",l),e.appendChild(a);case 11:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()};function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"initExtensions",value:function(t){for(var e=t.getSupportedExtensions(),r={},n=1;n<arguments.length;n++){var i=arguments[n];(r[i]=e.indexOf(i)>=0)&&t.getExtension(i)}return r}},{key:"createShader",value:function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)}},{key:"createTexture",value:function(t,e,r,n){var i=t.createTexture(),o=new Image,s=function(){o.onload=null,t.bindTexture(t.TEXTURE_2D,i),(n||{}).sdf?(t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,t.LUMINANCE,t.UNSIGNED_BYTE,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)):(t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindTexture(t.TEXTURE_2D,null),r&&r()};return o.onload=s,o.src=e,o.naturalWidth&&o.naturalHeight&&s(),i.image=o,i}},{key:"uniformColor",value:function(t,e,r){t.uniform4f(e,r.r,r.g,r.b,r.a)}},{key:"ortho",value:function(t,e,r,n,i,o){var s=1/(t-e),a=1/(r-n),h=1/(i-o),u=new Float32Array(16);return u[0]=-2*s,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*a,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*h,u[11]=0,u[12]=(t+e)*s,u[13]=(n+r)*a,u[14]=(o+i)*h,u[15]=1,u}}],(r=null)&&z(e.prototype,r),n&&z(e,n),t}();function V(t){for(var e={},r={},n=0;n<t.length;n++){var i=t[n],o=e[i.style]=e[i.style]||[];void 0===o.idx&&(o.idx=[]),o.idx.push(n),i.sI=r[i.style]=void 0===r[i.style]?0:r[i.style]+1,o.push(i)}return e}var O=function(t){var e,r,n,i,o,s,a,h,u;for(h=u=-(s=a=1/0),r=[],n=[],o=t.length,i=0;i<o;++i)(e=t[i]).x<s&&(s=e.x),e.y<a&&(a=e.y),e.x>h&&(h=e.x),e.y>u&&(u=e.y),r.push(e.x),n.push(e.y);var c=h-s,l=u-a;function f(t,e,r,n,i,o,s,a){if(t.leaf){var h=t.x,u=t.y;if(null!==h)if(h===r&&u===n)v(t,e,r,n,i,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,h,u,i,o,s,a),v(t,e,r,n,i,o,s,a)}else t.x=r,t.y=n,t.point=e}else v(t,e,r,n,i,o,s,a)}function v(t,e,r,n,i,o,s,a){var h=.5*(i+s),u=.5*(o+a),c=r>=h,l=n>=u,v=l<<1|c;t.leaf=!1,c?i=h:s=h,l?o=u:a=u,f(t=t.nodes[v]||(t.nodes[v]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,n,i,o,s,a)}c>l?u=a+c:h=s+l;var d={leaf:!0,nodes:[],point:null,x:null,y:null};for(d.visit=function(t){return function t(e,r,n,i,o,s){if(!e(r,n,i,o,s)){var a=.5*(n+o),h=.5*(i+s),u=r.nodes;u[0]&&t(e,u[0],n,i,a,h),u[1]&&t(e,u[1],a,i,o,h),u[2]&&t(e,u[2],n,h,a,s),u[3]&&t(e,u[3],a,h,o,s)}}(t,d,s,a,h,u)},d.find=function(t,e){return function(t,e,r,n,i,o,s){var a,h=1/0;return function t(u,c,l,f,v){if(!(c>o||l>s||f<n||v<i)){var d;if(d=u.point){var g=e-u.x,m=r-u.y,p=g*g+m*m;if(p<h){var w=Math.sqrt(h=p);n=e-w,i=r-w,o=e+w,s=r+w,a=d}}for(var y=u.nodes,x=.5*(c+f),b=.5*(l+v),_=(r>=b)<<1|e>=x,M=_+4;_<M;++_)if(u=y[3&_])switch(3&_){case 0:t(u,c,l,x,b);break;case 1:t(u,x,l,f,b);break;case 2:t(u,c,b,x,v);break;case 3:t(u,x,b,f,v)}}}(t,n,i,o,s),a}(d,t,e,s,a,h,u)},i=0;i<o;i++)f(d,t[i],r[i],n[i],s,a,h,u);return--i,r=n=t=e=null,d},D=function(t,e,r){var n=r.edgeDistace||15,i=r.edgeStrength||1,o=r.friction||.9,s=r.charge||-30,a=r.gravity||.4,h=r.theta2||.64,u=r.size||[1,1],c=r.margin||.05,l=r.direction||"left-right",f=r.chargeDistance2||1/0;this._options={margin:c,direction:l};var v,d=[],g=[],m=[];function p(t){return function(e,r,n,i){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=i-r,u=o*o+s*s;if(a*a/h<u){if(u<f){var c=e.charge/u;t.px-=o*c,t.py-=s*c}return!0}if(e.point&&u&&u<f){var l=e.pointCharge/u;t.px-=o*l,t.py-=s*l}}return!e.charge}}function w(){if((v*=.99)<.05)return v=0,!0;for(var r,n,i,h,c,l,f,w,y=t.length,x=e.length,b=0;b<x;b++)i=(n=e[b]).source,(c=(f=(h=n.target).x-i.x)*f+(w=h.y-i.y)*w)&&(f*=c=v*g[b]*((c=Math.sqrt(c))-d[b])/c,w*=c,h.x-=f*(l=i.weight/(h.weight+i.weight)),h.y-=w*l,i.x+=f*(l=1-l),i.y+=w*l);if(l=v*a){f=u[0]/2,w=u[1]/2;for(var _=0;_<y;_++)(n=t[_]).x+=(f-n.x)*l,n.y+=(w-n.y)*l}if(s){!function t(e,r,n){var i=0,o=0;if(e.charge=0,!e.leaf)for(var s,a=e.nodes,h=a.length,u=0;u<h;u++)null!=(s=a[u])&&(t(s,r,n),e.charge+=s.charge,i+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=r*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(r=O(t),v,m);for(var M=0;M<y;M++){var S=t[M];!S.fixed&&r.visit(p(S))}}for(var E=function(t,e){return Math.random()*(e-t)+t},k=0;k<y;k++)(n=t[k]).fixed||n.fixed2?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*o,n.y-=(n.py-(n.py=n.y))*o,"undefined"!=typeof options&&void 0!==options.minX&&((n.x<options.minX||n.x>options.maxX)&&(n.x=E(options.minX,options.maxX)),(n.y<options.minY||n.y>options.maxY)&&(n.y=E(options.minY,options.maxY))))}this.apply=function(){for(var r=t.length,o=Math.sqrt(r),a=.3/o,h=0;h<r;h++){var u=t[h];u.weight=0,u.x=void 0!==u.x?u.x:a+h%o/o,u.y=void 0!==u.y?u.y:a+Math.floor(h/o)/o,u.px=u.x,u.py=u.y,m[h]=s}for(var c=0;c<e.length;c++){var l=e[c];l.source.weight++,l.target.weight++,d[c]=n,g[c]=i}for(v=.1;!w(););return this._options}};function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"extend",value:function(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])t[r]=arguments[e][r];return t}},{key:"isObject",value:function(t){return t===Object(t)}},{key:"emptyObject",value:function(e){if(!t.isObject(e))return!1;for(var r in e)return!1;return!0}},{key:"ajax",value:function(t,e,r){var n,i;(n=new XMLHttpRequest).onreadystatechange=(i=e,function(){4==n.readyState&&200==n.status&&i("arraybuffer"==r?n.response:n.responseText)}),r&&(n.responseType=r),n.open("GET",t,!0),n.send()}}],(r=null)&&q(e.prototype,r),n&&q(e,n),t}();function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var L=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e;var n={margin:.05,direction:"left-right"};B.extend(n,r),this._options=n}var e,r,n;return e=t,(r=[{key:"apply",value:function(){for(var t=0,e=this._nodes.length;t<e;t++){var r=this._nodes[t];r.x=Math.random(),r.y=Math.random()}return this._options}}])&&U(e.prototype,r),n&&U(e,n),t}();function X(t){return function(t){if(Array.isArray(t))return G(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H(t,e){return X(Array(t).keys()).map((function(t){return Array(e).fill(0)}))}function Y(t,e){var r=Array(t.length).fill(0);e.forEach((function(t){r[t.source.index]+=1,r[t.target.index]+=1}));var n=r.map((function(t,e){return{index:e,value:t}}));n.sort((function(t,e){return+(t.value<e.value)||+(t.value===e.value)-1}));var i=n.map((function(t){return r[t.index]}));return{nodes:n,degrees:i}}function F(t){var e=0;return t.children&&t.children.forEach((function(t){if(1==t.depth_visited)throw new Error("This layout is only for trees acyclic graphs");t.depth_visited=!0;var r=F(t);r>e&&(e=r)})),1+e}function $(t){if((t=Math.abs(t))<=1)return{start:.5,step:1};return{start:.05,step:.9/(t-1)}}function W(t,e){if("right-left"==e)for(var r=0;r<t.length;++r)t[r].x=1-t[r].x;else if("top-down"==e)for(var n=0;n<t.length;++n){var i=1-t[n].x;t[n].x=t[n].y,t[n].y=i}else if("bottom-up"==e)for(var o=0;o<t.length;++o){var s=t[o].x;t[o].x=t[o].y,t[o].y=s}else if("left-right"!=e)throw new Error("directions can be only 'left-right' (default), 'right-left', 'top-down' or 'bottom-up'")}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q(t,e){for(var r=t.children,n=0;n<r.length;++n)if(r[n].uniqid===e.uniqid)return!0;return!1}var Z=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};K(this,t),this._nodes=e,this._edges=r;var i=.05,o=[.5,.5],s={margin:.05,direction:"left-right",ordering:"degree",angle_step:2*Math.PI/e.length,starting_angle:0,center:o,radius:Math.max.apply(null,o)-i,angle_ratio:1,radius_ratio:1,divisions:1};B.extend(s,n),this._options=s}var e,r,n;return e=t,(r=[{key:"apply",value:function(){var t=Y(this._nodes,this._edges),e=this._options.starting_angle,r=this._options.angle_step*this._options.angle_ratio,n=this._options.center,i=this._options.radius,o=this._options.radius_ratio*this._options.radius,s=this._options.divisions,a=this._nodes.length;if("topological"==this._options.ordering){!function(t,e){t.forEach((function(t,e){t.parents=[],t.children=[],t.visited=!1})),e.forEach((function(t,e){t.source.children.push(t.target),t.target.parents.push(t.source)}))}(this._nodes,this._edges);for(var h=this,u=t.nodes.map((function(t){return h._nodes[t.index]})),c=function(t,e){var r=[e[0]];e[0].picked=!0;for(var n=1;n<t.nodes.length;++n)e[n].degree=t.degrees[n];for(var i=0,o=1;o<e.length;++o){var s=e[o].degree;if(o!==e.length-1&&s===e[o+1].degree&&!Q(r[i],e[o])||1==e[o].picked){for(var a=r[i].children,h=!1,u=0;u<a.length;++u)if(a[u].degree===s&&!0!==a[u].picked){r.push(a[u]),a[u].picked=!0,h=!0;break}for(var c=0;!0!==h&&(!0!==e[c].picked&&(r.push(e[c]),e[c].picked=!0,h=!0),++c!==e.length););}else r.push(e[o]),e[o].picked=!0,i++}return r}(t,u),l=0;l<a;++l){var f=i+l*(o-i)/(a-1),v=e+Math.floor(l/s)*r+2*Math.PI/s*(l%s);void 0!==c[l]&&(c[l].x=n[0]+Math.cos(v)*f,c[l].y=n[1]+Math.sin(v)*f,c[l].weight=c[l].degree)}}else for(var d=0;d<a;++d){var g=i+d*(o-i)/(a-1),m=e+Math.floor(d/s)*r+2*Math.PI/s*(d%s);this._nodes[t.nodes[d].index].x=n[0]+Math.cos(m)*g,this._nodes[t.nodes[d].index].y=n[1]+Math.sin(m)*g,this._nodes[t.nodes[d].index].weight=t.degrees[d]}return this._options}}])&&J(e.prototype,r),n&&J(e,n),t}();function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"drawTreeCentered",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.centered=!0,t.depth_visited=!1;for(var n=0,i=0;i<t.children.length;i++){var o=t.children[i];1!=o.centered&&(n+=this.drawTreeCentered(o,n+e,r+1))}return 0==t.children&&n++,t.y=this.stepy*(e+(n-1)/2)+this.alphay,t.x=(r-1)*this.stepx+this.alphax,n}},{key:"apply",value:function(){var t=this._nodes;t.forEach((function(t,e){t.parents=[],t.children=[],t.centered=!1})),this._edges.forEach((function(t,e){t.source.children.push(t.target),t.target.parents.push(t.source)}));for(var e=0;e<t.length;e++)if(0==t[e].parents.length){var r=t[e];break}var n=$(F(r));this.alphax=n.start,this.stepx=n.step;var i=0;return t.forEach((function(t){0==t.children.length&&i++})),n=$(i),this.alphay=n.start,this.stepy=n.step,this.drawTreeCentered(r),W(this._nodes,this._options.direction),this._options}}])&&tt(e.prototype,r),n&&tt(e,n),t}();function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var nt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"drawTreeTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.visited=!0,t.depth_visited=!1,t.x=this.alphax+this.stepx*(r-1),t.y=1-(this.alphay+this.stepy*e);for(var n=0,i=0;i<t.children.length;i++){var o=t.children[i];1!=o.centered&&(n+=this.drawTreeTop(o,n+e,r+1))}return 0==t.children.length&&n++,n}},{key:"apply",value:function(){var t=this._nodes;t.forEach((function(t,e){t.parents=[],t.children=[],t.centered=!1})),this._edges.forEach((function(t,e){t.source.children.push(t.target),t.target.parents.push(t.source)}));for(var e=0;e<t.length;e++)if(0==t[e].parents.length){var r=t[e];break}var n=$(F(r));this.alphax=n.start,this.stepx=n.step;var i=0;return t.forEach((function(t){0==t.children.length&&i++})),n=$(i),this.alphay=n.start,this.stepy=n.step,this.drawTreeTop(r),W(this._nodes,this._options.direction),this._options}}])&&rt(e.prototype,r),n&&rt(e,n),t}();function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ot=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right",roots:"auto"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"makeLayers",value:function(t,e){if(t.length>1)for(var r=1/(t.length-1),n=0;n<t.length;++n)t[n].visited=!0,t[n].layer=e,t[n].y=n*r;else t[0].visited=!0,t[0].layer=e,t[0].y=.5;for(var i=[],o=0;o<t.length;o++)for(var s=t[o].parents.concat(t[o].children),a=0;a<s.length;a++)0!=s[a].visited||i.includes(s[a])||i.push(s[a]);return 0==i.length?e:this.makeLayers(i,e+1)}},{key:"apply",value:function(){var t=this._nodes;t.forEach((function(t,e){t.parents=[],t.children=[],t.visited=!1})),this._edges.forEach((function(t,e){t.source.children.push(t.target),t.target.parents.push(t.source)}));for(var e=function(t,e){var r=[];if("user-defined"==e||"auto"==e)for(var n=0;n<t.length;n++)1==t[n].isroot&&r.push(t[n]);if(("no-in-degree"==e||"auto"==e&&0==r.length)&&0==r.length)for(var i=0;i<t.length;i++)0==t[i].parents.length&&r.push(t[i]);if("degree"==e||"auto"==e&&0==r.length){var o=0;t.forEach((function(t){t.children.length>o&&(o=t.children.length)})),t.forEach((function(t){t.children.length==o&&r.push(t)}))}return r}(t,this._options.roots),r=1/(this.makeLayers(e,1)-1),n=0;n<this._nodes.length;++n)this._nodes[n].x=r*(this._nodes[n].layer-1);return this._options}}])&&it(e.prototype,r),n&&it(e,n),t}();function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function at(t){for(var e=!0,r=0;r<t.parents.length;++r){t.parents[r]!=t&&(e=!1)}for(var n=0;n<t.children.length;++n){t.children[n]!=t&&(e=!1)}return e}var ht=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r,this.components={current_component:0,depth:1},this.unvisited=e;var i={margin:.05,direction:"left-right",roots:"auto"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"initHierarchy",value:function(){this._nodes.forEach((function(t,e){t.parents=[],t.children=[],t.visited=!1})),this._edges.forEach((function(t,e){t.source.children.push(t.target),t.target.parents.push(t.source)}))}},{key:"separateOrphans",value:function(){for(var t=[],e=[],r=0;r<this._nodes.length;++r){var n=this._nodes[r];at(n)?t.push(n):e.push(n)}return t}},{key:"placeOrphans",value:function(t,e){for(var r=1/(t.length-1),n=0;n<t.length;++n)t[n].y=n*r,t[n].x=e+1;return t.length>0?e+1:e}},{key:"unvisitedNodes",value:function(){var t=[],e=this.orphans;this.unvisited.forEach((function(r){0!=r.visited||r in e||t.push(r)})),t.length!=this.unvisited?(this.maybe_more=!0,this.unvisited=t):this.maybe_more=!1}},{key:"placeAdditional",value:function(){for(var t=this.components[this.components.current_component].layers,e=0;e<this.unvisited.length;++e){for(var r=this.unvisited[e],n=this.components.depth,i=!1,o=0;o<r.children.length;++o){var s=r.children[o];if(1==s.visited){i=!0,s.layer<=n&&(n=s.layer);break}}if(i)r.visited=!0,n-0 in t||(t[n-0]=[]),t[n-0].push(r);else{for(var a=max_layer,h=!1,u=0;u<r.parents.length;++u){var c=r.parents[u];1==c.visited&&(h=!0,c.layer<=a&&(a=c.layer))}h&&(r.visited=!0,r.x=a+0,a+0 in t||(t[a+0]=[]),t[a+0].push(r))}}}},{key:"initializeComponent",value:function(t){this.components[t]={},this.components[t].max_nodes_layer=0,this.components[t].index_offset=t>0?this.components[t-1].vertical_nodes:0,this.components[t].current_layer=1,this.components[t].layers={},this.components[t].vertical_nodes=0}},{key:"layerNodes",value:function(t){this.components.current_component in this.components||this.initializeComponent(this.components.current_component);var e=this.components[this.components.current_component];t.length>e.vertical_nodes&&(e.vertical_nodes=t.length),e.layers[e.current_layer]=[];for(var r=0;r<t.length;++r)t[r].visited=!0,e.layers[e.current_layer].push(t[r]);for(var n=[],i=0;i<t.length;i++)for(var o=t[i].children,s=0;s<o.length;s++)0!=o[s].visited||n.includes(o[s])||n.push(o[s]);n.length>0&&(e.current_layer++,this.components.depth<e.current_layer&&(this.components.depth=e.current_layer),this.layerNodes(n))}},{key:"apply",value:function(){for(this.initHierarchy(),this.orphans=this.separateOrphans(),this.unvisitedNodes();this.unvisited.length>0;){var t=ut(this.unvisited,"auto");for(this.layerNodes(t),this.unvisitedNodes(),this.maybe_mode=!0;this.maybe_more;)this.placeAdditional(),this.unvisitedNodes();this.components.current_component++}this.components.vertical_nodes=0;for(var e=0;e<this.components.current_component;e++)this.components.vertical_nodes+=this.components[e].vertical_nodes;for(var r=1/this.components.depth,n=1/this.components.vertical_nodes,i=0;i<this.components.current_component;i++){var o=this.components[i];for(var s in o.layers){var a=o.layers[s];if(1==a.length){var h=a[0];h.x=r*s,h.y=n*(o.index_offset+o.vertical_nodes/2)}else for(var u=0;u<a.length;++u){var c=a[u];c.x=r*s,c.y=n*(o.index_offset+u)}}}return this.placeOrphans(this.orphans,0),this._options}}])&&st(e.prototype,r),n&&st(e,n),t}();function ut(t,e){var r=[];if("user-defined"==e||"auto"==e)for(var n=0;n<t.length;n++)1==t[n].isroot&&r.push(t[n]);if(("no-in-degree"==e||"auto"==e&&0==r.length)&&0==r.length)for(var i=0;i<t.length;i++)0==t[i].parents.length&&r.push(t[i]);if("degree"==e||"auto"==e&&0==r.length){var o=0;t.forEach((function(t){t.children.length>o&&(o=t.children.length)})),t.forEach((function(t){t.children.length==o&&r.push(t)}))}return r}var ct=r(0),lt=r.n(ct);var ft=function(t){if(!lt()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e};var vt=function(t){if(!lt()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e};var dt=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!lt()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!lt()(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=vt(t),i=ft(t);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=r.min,s=void 0===o?r.autoMinMax?n:0:o,a=r.max,h=void 0===a?r.autoMinMax?i:1:a;if(s>=h)throw new RangeError("min option must be smaller than max option");for(var u=(h-s)/(i-n),c=0;c<t.length;c++)e[c]=(t[c]-n)*u+s;return e};class gt{constructor(t){var e,r,n,i,o,s,a,h,u,c=(t=Bt.checkMatrix(t)).clone(),l=c.rows,f=c.columns,v=new Array(l),d=1;for(e=0;e<l;e++)v[e]=e;for(h=new Array(l),r=0;r<f;r++){for(e=0;e<l;e++)h[e]=c.get(e,r);for(e=0;e<l;e++){for(u=Math.min(e,r),o=0,n=0;n<u;n++)o+=c.get(e,n)*h[n];h[e]-=o,c.set(e,r,h[e])}for(i=r,e=r+1;e<l;e++)Math.abs(h[e])>Math.abs(h[i])&&(i=e);if(i!==r){for(n=0;n<f;n++)s=c.get(i,n),c.set(i,n,c.get(r,n)),c.set(r,n,s);a=v[i],v[i]=v[r],v[r]=a,d=-d}if(r<l&&0!==c.get(r,r))for(e=r+1;e<l;e++)c.set(e,r,c.get(e,r)/c.get(r,r))}this.LU=c,this.pivotVector=v,this.pivotSign=d}isSingular(){for(var t=this.LU,e=t.columns,r=0;r<e;r++)if(0===t[r][r])return!0;return!1}solve(t){t=qt.checkMatrix(t);var e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var r,n,i,o=t.columns,s=t.subMatrixRow(this.pivotVector,0,o-1),a=e.columns;for(i=0;i<a;i++)for(r=i+1;r<a;r++)for(n=0;n<o;n++)s[r][n]-=s[i][n]*e[r][i];for(i=a-1;i>=0;i--){for(n=0;n<o;n++)s[i][n]/=e[i][i];for(r=0;r<i;r++)for(n=0;n<o;n++)s[r][n]-=s[i][n]*e[r][i]}return s}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,r=t.columns,n=0;n<r;n++)e*=t[n][n];return e}get lowerTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new qt(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)n[i][o]=i>o?t[i][o]:i===o?1:0;return n}get upperTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new qt(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)n[i][o]=i<=o?t[i][o]:0;return n}get pivotPermutationVector(){return this.pivotVector.slice()}}function mt(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}function pt(t,e,r){for(var n=new Array(t),i=0;i<t;i++){n[i]=new Array(e);for(var o=0;o<e;o++)n[i][o]=r}return n}class wt{constructor(t,e={}){var r=(t=Bt.checkMatrix(t)).rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;var a,h=Boolean(i),u=Boolean(o),c=!1;if(r<n)if(s){r=(a=t.transpose()).rows,n=a.columns,c=!0;var l=h;h=u,u=l}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();var f=Math.min(r,n),v=Math.min(r+1,n),d=new Array(v),g=pt(r,f,0),m=pt(n,n,0),p=new Array(n),w=new Array(r),y=new Array(v);for(let t=0;t<v;t++)y[t]=t;var x=Math.min(r-1,n),b=Math.max(0,Math.min(n-2,r)),_=Math.max(x,b);for(let t=0;t<_;t++){if(t<x){d[t]=0;for(let e=t;e<r;e++)d[t]=mt(d[t],a[e][t]);if(0!==d[t]){a[t][t]<0&&(d[t]=-d[t]);for(let e=t;e<r;e++)a[e][t]/=d[t];a[t][t]+=1}d[t]=-d[t]}for(let e=t+1;e<n;e++){if(t<x&&0!==d[t]){let n=0;for(let i=t;i<r;i++)n+=a[i][t]*a[i][e];n=-n/a[t][t];for(let i=t;i<r;i++)a[i][e]+=n*a[i][t]}p[e]=a[t][e]}if(h&&t<x)for(let e=t;e<r;e++)g[e][t]=a[e][t];if(t<b){p[t]=0;for(let e=t+1;e<n;e++)p[t]=mt(p[t],p[e]);if(0!==p[t]){p[t+1]<0&&(p[t]=0-p[t]);for(let e=t+1;e<n;e++)p[e]/=p[t];p[t+1]+=1}if(p[t]=-p[t],t+1<r&&0!==p[t]){for(let e=t+1;e<r;e++)w[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<n;r++)w[e]+=p[r]*a[e][r];for(let e=t+1;e<n;e++){let n=-p[e]/p[t+1];for(let i=t+1;i<r;i++)a[i][e]+=n*w[i]}}if(u)for(let e=t+1;e<n;e++)m[e][t]=p[e]}}let M=Math.min(n,r+1);if(x<n&&(d[x]=a[x][x]),r<M&&(d[M-1]=0),b+1<M&&(p[b]=a[b][M-1]),p[M-1]=0,h){for(let t=x;t<f;t++){for(let e=0;e<r;e++)g[e][t]=0;g[t][t]=1}for(let t=x-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<f;e++){let n=0;for(let i=t;i<r;i++)n+=g[i][t]*g[i][e];n=-n/g[t][t];for(let i=t;i<r;i++)g[i][e]+=n*g[i][t]}for(let e=t;e<r;e++)g[e][t]=-g[e][t];g[t][t]=1+g[t][t];for(let e=0;e<t-1;e++)g[e][t]=0}else{for(let e=0;e<r;e++)g[e][t]=0;g[t][t]=1}}if(u)for(let t=n-1;t>=0;t--){if(t<b&&0!==p[t])for(let e=t+1;e<n;e++){let r=0;for(let i=t+1;i<n;i++)r+=m[i][t]*m[i][e];r=-r/m[t+1][t];for(let i=t+1;i<n;i++)m[i][e]+=r*m[i][t]}for(let e=0;e<n;e++)m[e][t]=0;m[t][t]=1}for(var S=M-1,E=Number.EPSILON;M>0;){let t,e;for(t=M-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+E*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(p[t])<=e||Number.isNaN(p[t])){p[t]=0;break}}if(t===M-2)e=4;else{let r;for(r=M-1;r>=t&&r!==t;r--){let e=(r!==M?Math.abs(p[r]):0)+(r!==t+1?Math.abs(p[r-1]):0);if(Math.abs(d[r])<=E*e){d[r]=0;break}}r===t?e=3:r===M-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=p[M-2];p[M-2]=0;for(let r=M-2;r>=t;r--){let i=mt(d[r],e),o=d[r]/i,s=e/i;if(d[r]=i,r!==t&&(e=-s*p[r-1],p[r-1]=o*p[r-1]),u)for(let t=0;t<n;t++)i=o*m[t][r]+s*m[t][M-1],m[t][M-1]=-s*m[t][r]+o*m[t][M-1],m[t][r]=i}break}case 2:{let e=p[t-1];p[t-1]=0;for(let n=t;n<M;n++){let i=mt(d[n],e),o=d[n]/i,s=e/i;if(d[n]=i,e=-s*p[n],p[n]=o*p[n],h)for(let e=0;e<r;e++)i=o*g[e][n]+s*g[e][t-1],g[e][t-1]=-s*g[e][n]+o*g[e][t-1],g[e][n]=i}break}case 3:{const e=Math.max(Math.abs(d[M-1]),Math.abs(d[M-2]),Math.abs(p[M-2]),Math.abs(d[t]),Math.abs(p[t])),i=d[M-1]/e,o=d[M-2]/e,s=p[M-2]/e,a=d[t]/e,c=p[t]/e,l=((o+i)*(o-i)+s*s)/2,f=i*s*(i*s);let v=0;0===l&&0===f||(v=l<0?0-Math.sqrt(l*l+f):Math.sqrt(l*l+f),v=f/(l+v));let w=(a+i)*(a-i)+v,y=a*c;for(let e=t;e<M-1;e++){let i=mt(w,y);0===i&&(i=Number.MIN_VALUE);let o=w/i,s=y/i;if(e!==t&&(p[e-1]=i),w=o*d[e]+s*p[e],p[e]=o*p[e]-s*d[e],y=s*d[e+1],d[e+1]=o*d[e+1],u)for(let t=0;t<n;t++)i=o*m[t][e]+s*m[t][e+1],m[t][e+1]=-s*m[t][e]+o*m[t][e+1],m[t][e]=i;if(i=mt(w,y),0===i&&(i=Number.MIN_VALUE),o=w/i,s=y/i,d[e]=i,w=o*p[e]+s*d[e+1],d[e+1]=-s*p[e]+o*d[e+1],y=s*p[e+1],p[e+1]=o*p[e+1],h&&e<r-1)for(let t=0;t<r;t++)i=o*g[t][e]+s*g[t][e+1],g[t][e+1]=-s*g[t][e]+o*g[t][e+1],g[t][e]=i}p[M-2]=w,1;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,u))for(let e=0;e<=S;e++)m[e][t]=-m[e][t];for(;t<S&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,u&&t<n-1)for(let r=0;r<n;r++)e=m[r][t+1],m[r][t+1]=m[r][t],m[r][t]=e;if(h&&t<r-1)for(let n=0;n<r;n++)e=g[n][t+1],g[n][t+1]=g[n][t],g[n][t]=e;t++}0,M--}}if(c){var k=m;m=g,g=k}this.m=r,this.n=n,this.s=d,this.U=g,this.V=m}solve(t){var e=t,r=this.threshold,n=this.s.length,i=qt.zeros(n,n);for(let t=0;t<n;t++)Math.abs(this.s[t])<=r?i[t][t]=0:i[t][t]=1/this.s[t];var o=this.U,s=this.rightSingularVectors,a=s.mmul(i),h=s.rows,u=o.length,c=qt.zeros(h,u);for(let t=0;t<h;t++)for(let e=0;e<u;e++){let r=0;for(let i=0;i<n;i++)r+=a[t][i]*o[e][i];c[t][e]=r}return c.mmul(e)}solveForDiagonal(t){return this.solve(qt.diag(t))}inverse(){var t=this.V,e=this.threshold,r=t.length,n=t[0].length,i=new qt(r,this.s.length);for(let o=0;o<r;o++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e?i[o][r]=t[o][r]/this.s[r]:i[o][r]=0;var o=this.U,s=o.length,a=o[0].length,h=new qt(r,s);for(let t=0;t<r;t++)for(let e=0;e<s;e++){let r=0;for(let n=0;n<a;n++)r+=i[t][n]*o[e][n];h[t][e]=r}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return qt.isMatrix(this.U)||(this.U=new qt(this.U)),this.U}get rightSingularVectors(){return qt.isMatrix(this.V)||(this.V=new qt(this.V)),this.V}get diagonalMatrix(){return qt.diag(this.s)}}function yt(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function xt(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function bt(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function _t(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Mt(t,e,r){return{row:St(t,e),column:Et(t,r)}}function St(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Et(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function kt(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(At("startRow",e),At("endRow",r),At("startColumn",n),At("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function At(t,e){if("number"!=typeof e)throw new TypeError(t+" must be a number")}class Rt extends(Dt()){constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}static get[Symbol.species](){return qt}}class Tt extends Rt{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}class Ct extends Rt{constructor(t,e){super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class Pt extends Rt{constructor(t,e,r,n,i){kt(t,e,r,n,i),super(t,r-e+1,i-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class It extends Rt{constructor(t,e,r){var n=Mt(t,e,r);super(t,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class Nt extends Rt{constructor(t,e){super(t,(e=St(t,e)).length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class zt extends Rt{constructor(t,e){e=Et(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class jt extends Rt{constructor(t,e){super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class Vt extends Rt{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class Ot extends Rt{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}function Dt(t){void 0===t&&(t=Object);class e extends t{static get[Symbol.species](){return this}static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("Data length does not match given dimensions");for(var n=new this(t,e),i=0;i<t;i++)for(var o=0;o<e;o++)n.set(i,o,r[i*e+o]);return n}static rowVector(t){for(var e=new this(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){for(var e=new this(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static empty(t,e){return new this(t,e)}static zeros(t,e){return this.empty(t,e).fill(0)}static ones(t,e){return this.empty(t,e).fill(1)}static rand(t,e,r){void 0===r&&(r=Math.random);for(var n=this.empty(t,e),i=0;i<t;i++)for(var o=0;o<e;o++)n.set(i,o,r());return n}static randInt(t,e,r,n){void 0===r&&(r=1e3),void 0===n&&(n=Math.random);for(var i=this.empty(t,e),o=0;o<t;o++)for(var s=0;s<e;s++){var a=Math.floor(n()*r);i.set(o,s,a)}return i}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),i=this.zeros(t,e),o=0;o<n;o++)i.set(o,o,r);return i}static diag(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var i=Math.min(n,e,r),o=this.zeros(e,r),s=0;s<i;s++)o.set(s,s,t[s]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),o=0;o<r;o++)for(var s=0;s<n;s++)i.set(o,s,Math.min(t.get(o,s),e.get(o,s)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),o=0;o<r;o++)for(var s=0;s<n;s++)i.set(o,s,Math.max(t.get(o,s),e.get(o,s)));return i}static checkMatrix(t){return e.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=this.rows,r=this.columns,n=0;n<e;n++)for(var i=0;i<r;i++)t.call(this,n,i);return this}to1DArray(){for(var t=new Array(this.size),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t[e*this.columns+r]=this.get(e,r);return t}to2DArray(){for(var t=new Array(this.rows),e=0;e<this.rows;e++){t[e]=new Array(this.columns);for(var r=0;r<this.columns;r++)t[e][r]=this.get(e,r)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}set(t,e,r){throw new Error("set method is unimplemented")}get(t,e){throw new Error("get method is unimplemented")}repeat(t,e){t=t||1,e=e||1;for(var r=new this.constructor[Symbol.species](this.rows*t,this.columns*e),n=0;n<t;n++)for(var i=0;i<e;i++)r.setSubMatrix(this,this.rows*n,this.columns*i);return r}fill(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){yt(this,t);for(var e=new Array(this.columns),r=0;r<this.columns;r++)e[r]=this.get(t,r);return e}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,e){yt(this,t),e=bt(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){yt(this,t),yt(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){xt(this,t);for(var e=new Array(this.rows),r=0;r<this.rows;r++)e[r]=this.get(r,t);return e}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,e){xt(this,t),e=_t(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){xt(this,t),xt(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=bt(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=bt(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=bt(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=bt(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=_t(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=_t(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=_t(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=_t(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){yt(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){xt(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){yt(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){yt(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){yt(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){yt(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){xt(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){xt(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){xt(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){xt(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){for(var t=Math.min(this.rows,this.columns),e=new Array(t),r=0;r<t;r++)e[r]=this.get(r,r);return e}sum(t){switch(t){case"row":return function(t){for(var e=qt.zeros(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(r,0,e.get(r,0)+t.get(r,n));return e}(this);case"column":return function(t){for(var e=qt.zeros(1,t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(0,n,e.get(0,n)+t.get(r,n));return e}(this);default:return function(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t*=this.get(e,r);return t}norm(t="frobenius"){var e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: "+t)}cumulativeSum(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){e.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,i=0;i<r.length;i++)n+=r[i]*t[i];return n}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var e=this.rows,r=this.columns,n=t.columns,i=new this.constructor[Symbol.species](e,n),o=new Array(r),s=0;s<n;s++){for(var a=0;a<r;a++)o[a]=t.get(a,s);for(var h=0;h<e;h++){var u=0;for(a=0;a<r;a++)u+=this.get(h,a)*o[a];i.set(h,s,u)}}return i}strassen2x2(t){var e=new this.constructor[Symbol.species](2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),o=t.get(0,1),s=this.get(1,0),a=t.get(1,0),h=this.get(1,1),u=t.get(1,1),c=(r+h)*(n+u),l=(s+h)*n,f=r*(o-u),v=h*(a-n),d=(r+i)*u,g=c+v-d+(i-h)*(a+u),m=f+d,p=l+v,w=c-l+f+(s-r)*(n+o);return e.set(0,0,g),e.set(0,1,m),e.set(1,0,p),e.set(1,1,w),e}strassen3x3(t){var e=new this.constructor[Symbol.species](3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),o=this.get(1,0),s=this.get(1,1),a=this.get(1,2),h=this.get(2,0),u=this.get(2,1),c=this.get(2,2),l=t.get(0,0),f=t.get(0,1),v=t.get(0,2),d=t.get(1,0),g=t.get(1,1),m=t.get(1,2),p=t.get(2,0),w=t.get(2,1),y=t.get(2,2),x=(r-o)*(-f+g),b=(-r+o+s)*(l-f+g),_=(o+s)*(-l+f),M=r*l,S=(-r+h+u)*(l-v+m),E=(-r+h)*(v-m),k=(h+u)*(-l+v),A=(-i+u+c)*(g+p-w),R=(i-c)*(g-w),T=i*p,C=(u+c)*(-p+w),P=(-i+s+a)*(m+p-y),I=(i-a)*(m-y),N=(s+a)*(-p+y),z=M+T+n*d,j=(r+n+i-o-s-u-c)*g+b+_+M+A+T+C,V=M+S+k+(r+n+i-s-a-h-u)*m+T+P+N,O=x+s*(-l+f+d-g-m-p+y)+b+M+T+P+I,D=x+b+_+M+a*w,q=T+P+I+N+o*v,B=M+S+E+u*(-l+v+d-g-m-p+w)+A+R+T,U=A+R+T+C+h*f,L=M+S+E+k+c*y;return e.set(0,0,z),e.set(0,1,j),e.set(0,2,V),e.set(1,0,O),e.set(1,1,D),e.set(1,2,q),e.set(2,0,B),e.set(2,1,U),e.set(2,2,L),e}mmulStrassen(t){var r=this.clone(),n=r.rows,i=r.columns,o=t.rows,s=t.columns;function a(t,r,n){var i=t.rows,o=t.columns;if(i===r&&o===n)return t;var s=e.zeros(r,n);return s=s.setSubMatrix(t,0,0)}i!==o&&console.warn(`Multiplying ${n} x ${i} and ${o} x ${s} matrix: dimensions do not match.`);var h=Math.max(n,o),u=Math.max(i,s);return function t(r,n,i,o){if(i<=512||o<=512)return r.mmul(n);i%2==1&&o%2==1?(r=a(r,i+1,o+1),n=a(n,i+1,o+1)):i%2==1?(r=a(r,i+1,o),n=a(n,i+1,o)):o%2==1&&(r=a(r,i,o+1),n=a(n,i,o+1));var s=parseInt(r.rows/2,10),h=parseInt(r.columns/2,10),u=r.subMatrix(0,s-1,0,h-1),c=n.subMatrix(0,s-1,0,h-1),l=r.subMatrix(0,s-1,h,r.columns-1),f=n.subMatrix(0,s-1,h,n.columns-1),v=r.subMatrix(s,r.rows-1,0,h-1),d=n.subMatrix(s,n.rows-1,0,h-1),g=r.subMatrix(s,r.rows-1,h,r.columns-1),m=n.subMatrix(s,n.rows-1,h,n.columns-1),p=t(e.add(u,g),e.add(c,m),s,h),w=t(e.add(v,g),c,s,h),y=t(u,e.sub(f,m),s,h),x=t(g,e.sub(d,c),s,h),b=t(e.add(u,l),m,s,h),_=t(e.sub(v,u),e.add(c,f),s,h),M=t(e.sub(l,g),e.add(d,m),s,h),S=e.add(p,x);S.sub(b),S.add(M);var E=e.add(y,b),k=e.add(w,x),A=e.sub(p,w);A.add(y),A.add(_);var R=e.zeros(2*S.rows,2*S.columns);return(R=(R=(R=(R=R.setSubMatrix(S,0,0)).setSubMatrix(E,S.rows,0)).setSubMatrix(k,0,S.columns)).setSubMatrix(A,S.rows,S.columns)).subMatrix(0,i-1,0,o-1)}(r=a(r,h,u),t=a(t,h,u),h,u)}scaleRows(t,e){if((t=void 0===t?0:t)>=(e=void 0===e?1:e))throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.rows;n++){var i=dt(this.getRow(n),{min:t,max:e});r.setRow(n,i)}return r}scaleColumns(t,e){if((t=void 0===t?0:t)>=(e=void 0===e?1:e))throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.columns;n++){var i=dt(this.getColumn(n),{min:t,max:e});r.setColumn(n,i)}return r}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,i=t.columns,o=new this.constructor[Symbol.species](e*n,r*i),s=0;s<e;s++)for(var a=0;a<r;a++)for(var h=0;h<n;h++)for(var u=0;u<i;u++)o[n*s+h][i*a+u]=this.get(s,a)*t.get(h,u);return o}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t){void 0===t&&(t=r);for(var e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t){void 0===t&&(t=r);for(var e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){kt(this,t,e,r,n);for(var i=new this.constructor[Symbol.species](e-t+1,n-r+1),o=t;o<=e;o++)for(var s=r;s<=n;s++)i[o-t][s-r]=this.get(o,s);return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](t.length,r-e+1),i=0;i<t.length;i++)for(var o=e;o<=r;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError("Row index out of range: "+t[i]);n.set(i,o-e,this.get(t[i],o))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](r-e+1,t.length),i=0;i<t.length;i++)for(var o=e;o<=r;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError("Column index out of range: "+t[i]);n.set(o-e,i,this.get(o,t[i]))}return n}setSubMatrix(t,e,r){kt(this,e,e+(t=this.constructor.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var n=0;n<t.rows;n++)for(var i=0;i<t.columns;i++)this[e+n][r+i]=t.get(n,i);return this}selection(t,e){for(var r=Mt(this,t,e),n=new this.constructor[Symbol.species](t.length,e.length),i=0;i<r.row.length;i++)for(var o=r.row[i],s=0;s<r.column.length;s++){var a=r.column[s];n[i][s]=this.get(o,a)}return n}trace(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}transposeView(){return new Tt(this)}rowView(t){return yt(this,t),new Ct(this,t)}columnView(t){return xt(this,t),new jt(this,t)}flipRowView(){return new Vt(this)}flipColumnView(){return new Ot(this)}subMatrixView(t,e,r,n){return new Pt(this,t,e,r,n)}selectionView(t,e){return new It(this,t,e)}rowSelectionView(t){return new Nt(this,t)}columnSelectionView(t){return new zt(this,t)}det(){var t,e,r,n,i,o;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),e=this.get(0,1),r=this.get(1,0),t*this.get(1,1)-e*r):3===this.columns?(n=this.selectionView([1,2],[1,2]),i=this.selectionView([1,2],[0,2]),o=this.selectionView([1,2],[0,1]),t=this.get(0,0),e=this.get(0,1),r=this.get(0,2),t*n.det()-e*i.det()+r*o.det()):new gt(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var e=new wt(this,{autoTranspose:!0}),r=e.leftSingularVectors,n=e.rightSingularVectors,i=e.diagonal,o=0;o<i.length;o++)Math.abs(i[o])>t?i[o]=1/i[o]:i[o]=0;return i=this.constructor[Symbol.species].diag(i),n.mmul(i.mmul(r.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}}function r(t,e){return t-e}e.prototype.klass="Matrix",e.random=e.rand,e.diagonal=e.diag,e.prototype.diagonal=e.prototype.diag,e.identity=e.eye,e.prototype.negate=e.prototype.neg,e.prototype.tensorProduct=e.prototype.kroneckerProduct,e.prototype.determinant=e.prototype.det;var n,i="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",o=eval;for(var s of[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]]){var a=o(S("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",{name:s[1],op:s[0]})),h=o(S("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",{name:s[1]+"S",op:s[0]})),u=o(S("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",{name:s[1]+"M",op:s[0]})),c=o(S("\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",{name:s[1]}));for(n=1;n<s.length;n++)e.prototype[s[n]]=a,e.prototype[s[n]+"S"]=h,e.prototype[s[n]+"M"]=u,e[s[n]]=c}var l=[["~","not"]];for(var f of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach((function(t){l.push(["Math."+t,t])})),l)){var v=o(S("\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",{name:f[1],method:f[0]})),d=o(S("\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",{name:f[1]}));for(n=1;n<f.length;n++)e.prototype[f[n]]=v,e[f[n]]=d}for(var g of[["Math.pow",1,"pow"]]){var m="arg0";for(n=1;n<g[1];n++)m+=", arg"+n;if(1!==g[1]){var p=o(S("\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",{name:g[2],method:g[0],args:m})),w=o(S(i,{name:g[2],args:m}));for(n=2;n<g.length;n++)e.prototype[g[n]]=p,e[g[n]]=w}else{var y={name:g[2],args:m,method:g[0]},x=o(S("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",y)),b=o(S("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",y)),_=o(S("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",y)),M=o(S("\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",y));for(n=2;n<g.length;n++)e.prototype[g[n]]=x,e.prototype[g[n]+"M"]=_,e.prototype[g[n]+"S"]=b,e[g[n]]=M}}function S(t,e){for(var r in e)t=t.replace(new RegExp(`%${r}%`,"g"),e[r]);return t}return e}class qt extends(Dt(Array)){constructor(t,e){var r;if(1===arguments.length&&"number"==typeof t)return new Array(t);if(qt.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(super(t),!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(r=0;r<t;r++)this[r]=new Array(e)}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,"number"!=typeof(e=n[0].length)||0===e)throw new TypeError("Data must be a 2D array with at least one element");for(super(t),r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");this[r]=[].concat(n[r])}}}return this.rows=t,this.columns=e,this}set(t,e,r){return this[t][e]=r,this}get(t,e){return this[t][e]}removeRow(t){if(yt(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),yt(this,t,!0),e=bt(this,e),this.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(xt(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var e=0;e<this.rows;e++)this[e].splice(t,1);return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),xt(this,t,!0),e=_t(this,e);for(var r=0;r<this.rows;r++)this[r].splice(t,0,e[r]);return this.columns+=1,this}}Dt(),Symbol.species;class Bt extends(Dt()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}static get[Symbol.species](){return qt}}class Ut{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=Bt.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");var n,i,o=t.columns,s=pt(o,o,0),a=new Array(o),h=new Array(o),u=t;if(!!r||t.isSymmetric()){for(n=0;n<o;n++)for(i=0;i<o;i++)s[n][i]=u.get(n,i);!function(t,e,r,n){var i,o,s,a,h,u,c,l;for(h=0;h<t;h++)r[h]=n[t-1][h];for(a=t-1;a>0;a--){for(l=0,s=0,u=0;u<a;u++)l+=Math.abs(r[u]);if(0===l)for(e[a]=r[a-1],h=0;h<a;h++)r[h]=n[a-1][h],n[a][h]=0,n[h][a]=0;else{for(u=0;u<a;u++)r[u]/=l,s+=r[u]*r[u];for(i=r[a-1],o=Math.sqrt(s),i>0&&(o=-o),e[a]=l*o,s-=i*o,r[a-1]=i-o,h=0;h<a;h++)e[h]=0;for(h=0;h<a;h++){for(i=r[h],n[h][a]=i,o=e[h]+n[h][h]*i,u=h+1;u<=a-1;u++)o+=n[u][h]*r[u],e[u]+=n[u][h]*i;e[h]=o}for(i=0,h=0;h<a;h++)e[h]/=s,i+=e[h]*r[h];for(c=i/(s+s),h=0;h<a;h++)e[h]-=c*r[h];for(h=0;h<a;h++){for(i=r[h],o=e[h],u=h;u<=a-1;u++)n[u][h]-=i*e[u]+o*r[u];r[h]=n[a-1][h],n[a][h]=0}}r[a]=s}for(a=0;a<t-1;a++){if(n[t-1][a]=n[a][a],n[a][a]=1,0!==(s=r[a+1])){for(u=0;u<=a;u++)r[u]=n[u][a+1]/s;for(h=0;h<=a;h++){for(o=0,u=0;u<=a;u++)o+=n[u][a+1]*n[u][h];for(u=0;u<=a;u++)n[u][h]-=o*r[u]}}for(u=0;u<=a;u++)n[u][a+1]=0}for(h=0;h<t;h++)r[h]=n[t-1][h],n[t-1][h]=0;n[t-1][t-1]=1,e[0]=0}(o,h,a,s),function(t,e,r,n){var i,o,s,a,h,u,c,l,f,v,d,g,m,p,w,y;for(s=1;s<t;s++)e[s-1]=e[s];e[t-1]=0;var x=0,b=0,_=Number.EPSILON;for(u=0;u<t;u++){for(b=Math.max(b,Math.abs(r[u])+Math.abs(e[u])),c=u;c<t&&!(Math.abs(e[c])<=_*b);)c++;if(c>u){0;do{for(1,i=r[u],l=(r[u+1]-i)/(2*e[u]),f=mt(l,1),l<0&&(f=-f),r[u]=e[u]/(l+f),r[u+1]=e[u]*(l+f),v=r[u+1],o=i-r[u],s=u+2;s<t;s++)r[s]-=o;for(x+=o,l=r[c],g=d=1,m=d,p=e[u+1],w=0,y=0,s=c-1;s>=u;s--)for(m=g,g=d,y=w,i=d*e[s],o=d*l,f=mt(l,e[s]),e[s+1]=w*f,w=e[s]/f,l=(d=l/f)*r[s]-w*i,r[s+1]=o+w*(d*i+w*r[s]),h=0;h<t;h++)o=n[h][s+1],n[h][s+1]=w*n[h][s]+d*o,n[h][s]=d*n[h][s]-w*o;l=-w*y*m*p*e[u]/v,e[u]=w*l,r[u]=d*l}while(Math.abs(e[u])>_*b)}r[u]=r[u]+x,e[u]=0}for(s=0;s<t-1;s++){for(h=s,l=r[s],a=s+1;a<t;a++)r[a]<l&&(h=a,l=r[a]);if(h!==s)for(r[h]=r[s],r[s]=l,a=0;a<t;a++)l=n[a][s],n[a][s]=n[a][h],n[a][h]=l}}(o,h,a,s)}else{var c=pt(o,o,0),l=new Array(o);for(i=0;i<o;i++)for(n=0;n<o;n++)c[n][i]=u.get(n,i);!function(t,e,r,n){var i,o,s,a,h,u,c,l=t-1;for(u=1;u<=l-1;u++){for(c=0,a=u;a<=l;a++)c+=Math.abs(e[a][u-1]);if(0!==c){for(s=0,a=l;a>=u;a--)r[a]=e[a][u-1]/c,s+=r[a]*r[a];for(o=Math.sqrt(s),r[u]>0&&(o=-o),s-=r[u]*o,r[u]=r[u]-o,h=u;h<t;h++){for(i=0,a=l;a>=u;a--)i+=r[a]*e[a][h];for(i/=s,a=u;a<=l;a++)e[a][h]-=i*r[a]}for(a=0;a<=l;a++){for(i=0,h=l;h>=u;h--)i+=r[h]*e[a][h];for(i/=s,h=u;h<=l;h++)e[a][h]-=i*r[h]}r[u]=c*r[u],e[u][u-1]=c*o}}for(a=0;a<t;a++)for(h=0;h<t;h++)n[a][h]=a===h?1:0;for(u=l-1;u>=1;u--)if(0!==e[u][u-1]){for(a=u+1;a<=l;a++)r[a]=e[a][u-1];for(h=u;h<=l;h++){for(o=0,a=u;a<=l;a++)o+=r[a]*n[a][h];for(o=o/r[u]/e[u][u-1],a=u;a<=l;a++)n[a][h]+=o*r[a]}}}(o,c,l,s),function(t,e,r,n,i){var o,s,a,h,u,c,l,f,v,d,g,m,p,w,y,x=t-1,b=t-1,_=Number.EPSILON,M=0,S=0,E=0,k=0,A=0,R=0,T=0,C=0;for(o=0;o<t;o++)for((o<0||o>b)&&(r[o]=i[o][o],e[o]=0),s=Math.max(o-1,0);s<t;s++)S+=Math.abs(i[o][s]);for(;x>=0;){for(h=x;h>0&&(0===(R=Math.abs(i[h-1][h-1])+Math.abs(i[h][h]))&&(R=S),!(Math.abs(i[h][h-1])<_*R));)h--;if(h===x)i[x][x]=i[x][x]+M,r[x]=i[x][x],e[x]=0,x--,C=0;else if(h===x-1){if(l=i[x][x-1]*i[x-1][x],E=(i[x-1][x-1]-i[x][x])/2,k=E*E+l,T=Math.sqrt(Math.abs(k)),i[x][x]=i[x][x]+M,i[x-1][x-1]=i[x-1][x-1]+M,f=i[x][x],k>=0){for(T=E>=0?E+T:E-T,r[x-1]=f+T,r[x]=r[x-1],0!==T&&(r[x]=f-l/T),e[x-1]=0,e[x]=0,f=i[x][x-1],R=Math.abs(f)+Math.abs(T),E=f/R,k=T/R,A=Math.sqrt(E*E+k*k),E/=A,k/=A,s=x-1;s<t;s++)T=i[x-1][s],i[x-1][s]=k*T+E*i[x][s],i[x][s]=k*i[x][s]-E*T;for(o=0;o<=x;o++)T=i[o][x-1],i[o][x-1]=k*T+E*i[o][x],i[o][x]=k*i[o][x]-E*T;for(o=0;o<=b;o++)T=n[o][x-1],n[o][x-1]=k*T+E*n[o][x],n[o][x]=k*n[o][x]-E*T}else r[x-1]=f+E,r[x]=f+E,e[x-1]=T,e[x]=-T;x-=2,C=0}else{if(f=i[x][x],v=0,l=0,h<x&&(v=i[x-1][x-1],l=i[x][x-1]*i[x-1][x]),10===C){for(M+=f,o=0;o<=x;o++)i[o][o]-=f;R=Math.abs(i[x][x-1])+Math.abs(i[x-1][x-2]),f=v=.75*R,l=-.4375*R*R}if(30===C&&(R=(R=(v-f)/2)*R+l)>0){for(R=Math.sqrt(R),v<f&&(R=-R),R=f-l/((v-f)/2+R),o=0;o<=x;o++)i[o][o]-=R;M+=R,f=v=l=.964}for(C+=1,u=x-2;u>=h&&(T=i[u][u],E=((A=f-T)*(R=v-T)-l)/i[u+1][u]+i[u][u+1],k=i[u+1][u+1]-T-A-R,A=i[u+2][u+1],R=Math.abs(E)+Math.abs(k)+Math.abs(A),E/=R,k/=R,A/=R,u!==h)&&!(Math.abs(i[u][u-1])*(Math.abs(k)+Math.abs(A))<_*(Math.abs(E)*(Math.abs(i[u-1][u-1])+Math.abs(T)+Math.abs(i[u+1][u+1]))));)u--;for(o=u+2;o<=x;o++)i[o][o-2]=0,o>u+2&&(i[o][o-3]=0);for(a=u;a<=x-1&&(w=a!==x-1,a!==u&&(E=i[a][a-1],k=i[a+1][a-1],A=w?i[a+2][a-1]:0,0!==(f=Math.abs(E)+Math.abs(k)+Math.abs(A))&&(E/=f,k/=f,A/=f)),0!==f);a++)if(R=Math.sqrt(E*E+k*k+A*A),E<0&&(R=-R),0!==R){for(a!==u?i[a][a-1]=-R*f:h!==u&&(i[a][a-1]=-i[a][a-1]),f=(E+=R)/R,v=k/R,T=A/R,k/=E,A/=E,s=a;s<t;s++)E=i[a][s]+k*i[a+1][s],w&&(E+=A*i[a+2][s],i[a+2][s]=i[a+2][s]-E*T),i[a][s]=i[a][s]-E*f,i[a+1][s]=i[a+1][s]-E*v;for(o=0;o<=Math.min(x,a+3);o++)E=f*i[o][a]+v*i[o][a+1],w&&(E+=T*i[o][a+2],i[o][a+2]=i[o][a+2]-E*A),i[o][a]=i[o][a]-E,i[o][a+1]=i[o][a+1]-E*k;for(o=0;o<=b;o++)E=f*n[o][a]+v*n[o][a+1],w&&(E+=T*n[o][a+2],n[o][a+2]=n[o][a+2]-E*A),n[o][a]=n[o][a]-E,n[o][a+1]=n[o][a+1]-E*k}}}if(0===S)return;for(x=t-1;x>=0;x--)if(E=r[x],0===(k=e[x]))for(h=x,i[x][x]=1,o=x-1;o>=0;o--){for(l=i[o][o]-E,A=0,s=h;s<=x;s++)A+=i[o][s]*i[s][x];if(e[o]<0)T=l,R=A;else if(h=o,0===e[o]?i[o][x]=0!==l?-A/l:-A/(_*S):(f=i[o][o+1],v=i[o+1][o],k=(r[o]-E)*(r[o]-E)+e[o]*e[o],c=(f*R-T*A)/k,i[o][x]=c,i[o+1][x]=Math.abs(f)>Math.abs(T)?(-A-l*c)/f:(-R-v*c)/T),c=Math.abs(i[o][x]),_*c*c>1)for(s=o;s<=x;s++)i[s][x]=i[s][x]/c}else if(k<0)for(h=x-1,Math.abs(i[x][x-1])>Math.abs(i[x-1][x])?(i[x-1][x-1]=k/i[x][x-1],i[x-1][x]=-(i[x][x]-E)/i[x][x-1]):(y=Lt(0,-i[x-1][x],i[x-1][x-1]-E,k),i[x-1][x-1]=y[0],i[x-1][x]=y[1]),i[x][x-1]=0,i[x][x]=1,o=x-2;o>=0;o--){for(d=0,g=0,s=h;s<=x;s++)d+=i[o][s]*i[s][x-1],g+=i[o][s]*i[s][x];if(l=i[o][o]-E,e[o]<0)T=l,A=d,R=g;else if(h=o,0===e[o]?(y=Lt(-d,-g,l,k),i[o][x-1]=y[0],i[o][x]=y[1]):(f=i[o][o+1],v=i[o+1][o],m=(r[o]-E)*(r[o]-E)+e[o]*e[o]-k*k,p=2*(r[o]-E)*k,0===m&&0===p&&(m=_*S*(Math.abs(l)+Math.abs(k)+Math.abs(f)+Math.abs(v)+Math.abs(T))),y=Lt(f*A-T*d+k*g,f*R-T*g-k*d,m,p),i[o][x-1]=y[0],i[o][x]=y[1],Math.abs(f)>Math.abs(T)+Math.abs(k)?(i[o+1][x-1]=(-d-l*i[o][x-1]+k*i[o][x])/f,i[o+1][x]=(-g-l*i[o][x]-k*i[o][x-1])/f):(y=Lt(-A-v*i[o][x-1],-R-v*i[o][x],T,k),i[o+1][x-1]=y[0],i[o+1][x]=y[1])),c=Math.max(Math.abs(i[o][x-1]),Math.abs(i[o][x])),_*c*c>1)for(s=o;s<=x;s++)i[s][x-1]=i[s][x-1]/c,i[s][x]=i[s][x]/c}for(o=0;o<t;o++)if(o<0||o>b)for(s=o;s<t;s++)n[o][s]=i[o][s];for(s=t-1;s>=0;s--)for(o=0;o<=b;o++){for(T=0,a=0;a<=Math.min(s,b);a++)T+=n[o][a]*i[a][s];n[o][s]=T}}(o,h,a,s,c)}this.n=o,this.e=h,this.d=a,this.V=s}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return qt.isMatrix(this.V)||(this.V=new qt(this.V)),this.V}get diagonalMatrix(){var t,e,r=this.n,n=this.e,i=this.d,o=new qt(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o[t][e]=0;o[t][t]=i[t],n[t]>0?o[t][t+1]=n[t]:n[t]<0&&(o[t][t-1]=n[t])}return o}}function Lt(t,e,r,n){var i,o;return Math.abs(r)>Math.abs(n)?[(t+(i=n/r)*e)/(o=r+i*n),(e-i*t)/o]:[((i=r/n)*t+e)/(o=n+i*r),(i*e-t)/o]}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Gt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"apply",value:function(){for(var t=H(this._nodes.length,this._nodes.length),e=0;e<this._edges.length;++e){var r=this._edges[e].source.index,n=this._edges[e].target.index;t[r][n]=-1,t[n][r]=-1}for(var i=0;i<this._nodes.length;++i)t[i][i]=-t[i].reduce((function(t,e){return t+e}),0);var o=new Ut(t),s=function(t){var e=Math.min.apply(null,t),r=t.indexOf(e);t[r]=1/0;var n=Math.min.apply(null,t),i=t.indexOf(n);t[i]=1/0;var o=Math.min.apply(null,t);return[i,t.indexOf(o)]}(o.realEigenvalues),a=o.eigenvectorMatrix.transpose(),h=function(t,e){for(var r=Math.max.apply(null,t.map(Math.abs)),n=Math.max.apply(null,e.map(Math.abs)),i=Math.min.apply(null,t),o=Math.min.apply(null,e),s=0;s<t.length;++s)t[s]=.1+(t[s]-i)/(1.25*(r-i)),e[s]=.1+(e[s]-o)/(1.25*(n-o));return[t,e]}(a[s[0]],a[s[1]]);return this._nodes.forEach((function(t,e){t.x=h[0][e],t.y=h[1][e]})),this._options}}])&&Xt(e.prototype,r),n&&Xt(e,n),t}();function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Yt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r,this._epsilon=1e-8,this._MAX_ITTERATIONS=100,this._num_elements=e.length,this._dims=2;var i={margin:.05,direction:"left-right"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"apply",value:function(){for(var t=H(this._nodes.length,this._nodes.length),e=0;e<this._edges.length;++e){var r=this._edges[e].source.index,n=this._edges[e].target.index;t[r][n]=1}var i=function(t){for(var e=Kt(t.length),r=0;r<t.length;r++){for(var n=0,i=0;i<t[r].length;i++)n+=t[r][i];e[r]=n+1}return e}(t),o=this._dims+1,s=new Array(o);s[0]=$t(function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=1;return e}(this._num_elements));for(var a=1;a<o;a++)s[a]=Kt(this._num_elements);for(var h=1;h<o;h++){for(var u=$t(Wt(this._num_elements)),c=0,l=!1;!l;){for(var f=u.slice(),v=0;v<h;v++){for(var d=s[v],g=0,m=0,p=0;p<f.length;p++)g+=f[p]*i[p]*d[p],m+=d[p]*i[p]*d[p];for(var w=g/m,y=0;y<f.length;y++)f[y]=f[y]-w*d[y]}for(var x=0;x<u.length;x++)u[x]=.5*(f[x]+Ft(t[x],f)/i[x]);l=(c+=1)>100|!(Ft(u=$t(u),f)<1-this._epsilon)}s[h]=u.slice()}var b=Jt(s[1]),_=Jt(s[2]);return this._nodes.forEach((function(t,e){t.x=b[e],t.y=_[e]})),this._options}}])&&Ht(e.prototype,r),n&&Ht(e,n),t}();function Ft(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}function $t(t){for(var e=function(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(t[r],2);return Math.sqrt(e)}(t),r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n]/e;return r}function Wt(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=Math.random();return e}function Kt(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e}function Jt(t){for(var e=Math.max.apply(null,t.map(Math.abs)),r=Math.min.apply(null,t),n=0;n<t.length;++n)t[n]=.1+(t[n]-r)/(1.25*(e-r));return t}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Zt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={starting_angle:Math.PI/2,radius:.05,margin:.05,direction:"left-right",nlines:5};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"apply",value:function(){for(var t=Y(this._nodes,this._edges),e=Math.ceil(this._nodes.length/this._options.nlines),r=(.5-this._options.radius)/e,n=2*Math.PI/this._options.nlines,i=this._options.starting_angle,o=this._options.radius,s=0,a=0;a<this._nodes.length;++a){var h=t.nodes[a].index;this._nodes[h].x=.05+(o+r*(a-s*e))*Math.cos(n*s+i),this._nodes[h].y=.05+(o+r*(a-s*e))*Math.sin(n*s+i),s=Math.floor(a/e)}for(var u=[],c=0;c<this._nodes.length;++c){var l=t.nodes[c].index;u.push(this._nodes[l])}return this._options}}])&&Qt(e.prototype,r),n&&Qt(e,n),t}();function te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ee=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"apply",value:function(){var t=Y(this._nodes,this._edges),e=Math.sqrt(this._nodes.length);if(e-Math.floor(e)>0)var r=Math.floor(e)+1;else r=e;var n=1/r,i=this._nodes.length/r;if(i-Math.floor(i)>0)var o=Math.floor(i)+1;else o=i;for(var s=1/(o-2),a=0;a<this._nodes.length;++a){var h=Math.floor(a/(r+1));this._nodes[t.nodes[a].index].x=n*(a-h*(r+1)),this._nodes[t.nodes[a].index].y=s*h,this._nodes[t.nodes[a].index].weight=t.degrees[a]}return this._options}}])&&te(e.prototype,r),n&&te(e,n),t}();function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ne=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=e,this._edges=r;var i={margin:.05,direction:"left-right",hubs:.1,intermediary:.2,method:"fixed_fractions"};B.extend(i,n),this._options=i}var e,r,n;return e=t,(r=[{key:"apply",value:function(){for(var t=Y(this._nodes,this._edges),e=Math.floor(this._nodes.length*(this._options.hubs+this._options.intermediary)),r=Math.floor(this._nodes.length*this._options.hubs),n=(1-2*this._options.margin)/2/(r-1),i=Math.PI/(r-1),o=0;o<r;)r>1?(this._nodes[t.nodes[o].index].x=this._options.margin+n*o,this._nodes[t.nodes[o].index].y=this._options.margin+.4+.4*Math.sin(o*i)):(this._nodes[t.nodes[o].index].x=(1-2*this._options.margin)/4,this._nodes[t.nodes[o].index].y=this._options.margin+.4+.4),++o;var s=e-r,a=Math.PI/s,h=(1-2*this._options.margin)/2/s;for(o=0;o<s;)this._nodes[t.nodes[o+r].index].x=.5+h*(o+1),this._nodes[t.nodes[o+r].index].y=this._options.margin+.4+.4*Math.sin(Math.PI+(o+1)*a),++o;var u=[.85,.75],c=[.4,1-this._options.margin],l=this._nodes.length-e,f=(c[0]-u[0])/(l-1),v=(c[1]-u[1])/(l-1);for(o=0;o<l;)this._nodes[t.nodes[o+e].index].x=u[0]+f*o,this._nodes[t.nodes[o+e].index].y=u[1]+v*o,++o;return this._options}}])&&re(e.prototype,r),n&&re(e,n),t}();function ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var oe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"normalize",value:function(t,e){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{direction:"left-right",margin:.05},o=t.length;if(e)r=e.minX,n=e.minY;else{var s=-1/0,a=-1/0;r=n=1/0;for(var h=0;h<o;h++){var u=t[h];s=Math.max(s,u.x),a=Math.max(a,u.y),r=Math.min(r,u.x),n=Math.min(n,u.y)}e={maxX:s,maxY:a,minX:r,minY:n}}var c=1-2*i.margin,l=r!==e.maxX?c/(e.maxX-r):(r-=.5,1),f=n!==e.maxY?c/(e.maxY-n):(n-=.5,1),v=i.direction;switch(v){case"left-right":for(var d=0;d<o;++d){var g=t[d];g.x=l*(g.x-r)+i.margin,g.y=f*(g.y-n)+i.margin}break;case"right-left":for(var m=0;m<o;++m){var p=t[m];p.x=1-(l*(p.x-r)+i.margin),p.y=f*(p.y-n)+i.margin}break;case"top-down":for(var w=0;w<o;++w){var y=t[w],x=1-l*(y.x-r)+i.margin;y.x=f*(y.y-n)+i.margin,y.y=x}break;case"bottom-up":for(var b=0;b<t.length;++b){var _=t[b],M=l*(_.x-r)+i.margin;_.x=f*(_.y-n)+i.margin,_.y=M}break;default:throw new Error("directions can be only 'left-right' (default), 'right-left', 'top-down' or 'bottom-up'")}return e}},{key:"force",get:function(){return D}},{key:"random",get:function(){return L}},{key:"circular",get:function(){return Z}},{key:"tree",get:function(){return et}},{key:"tree2",get:function(){return nt}},{key:"hierarchical",get:function(){return ot}},{key:"hierarchical2",get:function(){return ht}},{key:"spectral",get:function(){return Gt}},{key:"spectral2",get:function(){return Yt}},{key:"hive",get:function(){return Zt}},{key:"grid",get:function(){return ee}},{key:"versinus",get:function(){return ne}}],(r=null)&&ie(e.prototype,r),n&&ie(e,n),t}();function se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ae=0,he=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"checkUniqId",value:function(t){void 0!==t.__uniqid?(t.uniqid=t.__uniqid,delete t.__uniqid):void 0===t.uniqid&&(t.uniqid=++ae)}},{key:"getContext",value:function(t){var e={depth:!1,antialias:!1};return t.getContext("webgl",e)||t.getContext("experimental-webgl",e)}},{key:"initCoordinates",value:function(t,e,r){for(var n=[],i=[],o=[],s=0;s<e.length;s++){var a=e[s];"number"==typeof a.source&&(a.source=t[a.source]),"number"==typeof a.target&&(a.target=t[a.target])}for(var h=function(t){return t.uniqid||-t.index||-t.nidx},u=0;u<t.length;u++)t[u].index=u;for(var c=0,l=t.length+10;c<e.length;c++,l++)e[c].nidx=l;var f=[],v=new Uint32Array(e.length),d={k:"_",kArrow:"_",d:[]},g={k:"circles",kArrow:"circleArrows",d:o},m={k:"lines",kArrow:"lineArrows",d:n},p={k:"curves",kArrow:"curveArrows",d:i},w={};if("svg_context"==r?w.svg=!0:w=r?j.initExtensions(r,"OES_standard_derivatives"):{},w.OES_standard_derivatives||w.svg){for(var y={},x=0;x<e.length;x++){var b=e[x],_=h(b.source),M=h(b.target);(y[_]||(y[_]={}))[M]=!0}for(var S=0;S<e.length;S++){var E=void 0,k=e[S],A=h(k.source),R=h(k.target),T=d;if(A===R)k.t=2,E=o,T=g;else{var C=y[R];C&&C[A]?(k.t=1,E=i,T=p):(k.t=0,E=n,T=m)}f.push(T),v[S]=T.d.length,E.push(k)}}else for(var P=0;P<e.length;P++){var I=e[P],N=d;h(I.source)!==h(I.target)&&(N=m,I.t=0,n.push(I)),f.push(N),v[P]=N.d.length}return{nodes:t,nodesParts:V(t),circles:o,circlesParts:V(o),lines:n,linesParts:V(n),curves:i,curvesParts:V(i)}}},{key:"getDrawEntites",value:function(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=this.initCoordinates(t,e,o);if("string"==typeof r)n=new oe[r](t,e,i).apply();else if("function"==typeof r)n=new r(t,e,i).apply();else if("number"==typeof r)throw new Error("The layout can only be a string or a function or a class");return r&&oe.normalize(t,void 0,n),s}}],(r=null)&&se(e.prototype,r),n&&se(e,n),t}();function ue(t,e){if(!(this instanceof ue))return new ue(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ce(t,e){t.bbox=le(t,0,t.children.length,e)}function le(t,e,r,n){for(var i,o=fe(),s=e;s<r;s++)i=t.children[s],ve(o,t.leaf?n(i):i.bbox);return o}function fe(){return[1/0,1/0,-1/0,-1/0]}function ve(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function de(t,e){return t.bbox[0]-e.bbox[0]}function ge(t,e){return t.bbox[1]-e.bbox[1]}function me(t){return(t[2]-t[0])*(t[3]-t[1])}function pe(t){return t[2]-t[0]+(t[3]-t[1])}function we(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function ye(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function xe(t,e,r,n,i){for(var o,s=[e,r];s.length;)(r=s.pop())-(e=s.pop())<=n||(be(t,e,r,o=e+Math.ceil((r-e)/n/2)*n,i),s.push(e,o,o,r))}function be(t,e,r,n,i){for(var o,s,a,h,u,c,l;r>e;){for(r-e>600&&(o=r-e+1,s=n-e+1,a=Math.log(o),h=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*h*(o-h)/o)*(s-o/2<0?-1:1),be(t,Math.max(e,Math.floor(n-s*h/o+u)),Math.min(r,Math.floor(n+(o-s)*h/o+u)),n,i)),c=t[n],s=e,l=r,_e(t,e,n),i(t[r],c)>0&&_e(t,e,r);s<l;){for(_e(t,s,l),s++,l--;i(t[s],c)<0;)s++;for(;i(t[l],c)>0;)l--}0===i(t[e],c)?_e(t,e,l):_e(t,++l,r),l<=n&&(e=l+1),n<=l&&(r=l-1)}}function _e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}ue.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!ye(t,e.bbox))return r;for(var i,o,s,a,h=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],ye(t,a=e.leaf?n(s):s.bbox)&&(e.leaf?r.push(s):we(t,a)?this._all(s,r):h.push(s));e=h.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!ye(t,e.bbox))return!1;for(var n,i,o,s,a=[];e;){for(n=0,i=e.children.length;n<i;n++)if(o=e.children[n],ye(t,s=e.leaf?r(o):o.bbox)){if(e.leaf||we(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:fe(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,r,n,i,o=this.data,s=this.toBBox(t),a=[],h=[];o||a.length;){if(o||(o=a.pop(),r=a[a.length-1],e=h.pop(),i=!0),o.leaf&&-1!==(n=o.children.indexOf(t)))return o.children.splice(n,1),a.push(o),this._condense(a),this;i||o.leaf||!we(o.bbox,s)?r?(e++,o=r.children[e],i=!1):o=null:(a.push(o),h.push(e),e=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var i,o=r-e+1,s=this._maxEntries;if(o<=s)return ce(i={children:t.slice(e,r+1),height:1,bbox:null,leaf:!0},this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),i={children:[],height:n,bbox:null,leaf:!1};var a,h,u,c,l=Math.ceil(o/s),f=l*Math.ceil(Math.sqrt(s));for(xe(t,e,r,f,this.compareMinX),a=e;a<=r;a+=f)for(xe(t,a,u=Math.min(a+f-1,r),l,this.compareMinY),h=a;h<=u;h+=l)c=Math.min(h+l-1,u),i.children.push(this._build(t,h,c,n-1));return ce(i,this.toBBox),i},_chooseSubtree:function(t,e,r,n){for(var i,o,s,a,h,u,c,l,f,v;n.push(e),!e.leaf&&n.length-1!==r;){for(c=l=1/0,i=0,o=e.children.length;i<o;i++)h=me((s=e.children[i]).bbox),f=t,v=s.bbox,(u=(Math.max(v[2],f[2])-Math.min(v[0],f[0]))*(Math.max(v[3],f[3])-Math.min(v[1],f[1]))-h)<l?(l=u,c=h<c?h:c,a=s):u===l&&h<c&&(c=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,i=r?t.bbox:n(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),ve(s.bbox,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s={children:r.children.splice(o,r.children.length-o),height:r.height,bbox:null,leaf:!1};r.leaf&&(s.leaf=!0),ce(r,this.toBBox),ce(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1,bbox:null,leaf:!1},ce(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,i,o,s,a,h,u,c,l,f,v,d,g,m;for(h=u=1/0,n=e;n<=r-e;n++)i=le(t,0,n,this.toBBox),o=le(t,n,r,this.toBBox),l=i,f=o,v=void 0,d=void 0,g=void 0,m=void 0,v=Math.max(l[0],f[0]),d=Math.max(l[1],f[1]),g=Math.min(l[2],f[2]),m=Math.min(l[3],f[3]),s=Math.max(0,g-v)*Math.max(0,m-d),a=me(i)+me(o),s<h?(h=s,c=n,u=a<u?a:u):s===h&&a<u&&(u=a,c=n);return c},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:de,i=t.leaf?this.compareMinY:ge;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var i,o,s=this.toBBox,a=le(t,0,e,s),h=le(t,r-e,r,s),u=pe(a)+pe(h);for(i=e;i<r-e;i++)o=t.children[i],ve(a,t.leaf?s(o):o.bbox),u+=pe(a);for(i=r-e-1;i>=e;i--)o=t.children[i],ve(h,t.leaf?s(o):o.bbox),u+=pe(h);return u},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)ve(e[n].bbox,t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():ce(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}};var Me="attribute vec2 position;\nattribute vec2 relative;\nattribute vec2 textureCoord;\nattribute vec2 curve;\nuniform float offset;\nuniform vec2 scale;\nuniform float fontScale;\nuniform mat4 transform;\nvarying vec2 tc;",Se="precision highp float;\nattribute vec2 normal;\nuniform float exc;\nuniform vec2 screen;\nuniform float aspect2;\nuniform float aspect;\nuniform vec2 size;\n\n",Ee="attribute vec2 position;\nattribute vec2 relative;\nuniform vec2 scale;\nuniform mat4 transform;\nuniform float fontScale;\nuniform float offset;",ke="precision mediump float;\nattribute vec2 relative;\nattribute vec2 position;\nattribute vec2 normalBorder;\nuniform vec2 width;\nuniform mat4 transform;\nuniform float fontScale;\nuniform float offset;\nuniform vec2 scale;\nvarying vec2 nB;",Ae="attribute vec2 curveShift;\nvec4 getShiftCurve(void) {\n  vec2 shiftN = vec2(curveShift.x, aspect2 * curveShift.y);\n  float length = length(screen * shiftN);\n  return vec4(exc * (length == 0.0 ? vec2(0, 0) : shiftN * 0.5 / length), 0, 0);\n}\nattribute vec2 circleShift;\nvec4 getShiftCircle(void) { return vec4(size * circleShift, 0, 0); }";[Me,Se,Ae,"\nvoid main(void) {\n  vec2 n = vec2(normal.x, aspect2 * normal.y);\n  float length = length(screen * n);\n  n = length == 0.0 ? vec2(0, 0) : n / length;\n  \n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(( exc / 2.0 * n ), 0, 0) ; \n  vec4 pos = vec4(scale * ( relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0)\n    + transform * vec4(position, 0, 1);\n  \n  gl_Position = pos + shift;\n  tc = textureCoord;\n}"].join("\n"),[Me,Se,Ae,"\nvoid main(void) {\n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(size * normal , 0, 0) ; \n  vec4 pos = vec4(scale * (relative * fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) \n    + transform * vec4(position, 0, 1);\n   \n   gl_Position = pos + shift ;\n   tc = textureCoord;\n}"].join("\n"),[Me,"\nvoid main(void) { \n   gl_Position = vec4(scale * (relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) + transform * vec4(position, 0, 1);\n   tc = textureCoord;\n}"].join("\n"),[Ee,"void main(void) {\n   gl_Position = vec4(scale * (relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) + transform * vec4(position, 0, 1);\n}\n"].join("\n"),[Ee,Se,Ae,"void main(void) {\n  vec2 n = vec2(normal.x, aspect2 * normal.y);\n  float length = length(screen * n);\n  n = length == 0.0 ? vec2(0, 0) : n / length;\n  \n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(( exc / 2.0 * n ), 0, 0) ; \n  vec4 pos = vec4(scale * ( relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0)\n    + transform * vec4(position, 0, 1)   ;\n  \n  gl_Position = pos + shift;\n   \n}"].join("\n"),[Ee,Se,Ae,"\nvoid main(void) {\n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(size * normal , 0, 0) ; \n  vec4 pos = vec4(scale * (relative * fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) \n    + transform * vec4(position, 0, 1);\n  gl_Position = pos + shift ;\n}"].join("\n"),[ke,"void main(void) {\n  vec4 pos = vec4(scale * (relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) + transform * vec4(position, 0, 1);\n  gl_Position =  vec4(width * normalBorder, 0, 0) + pos;\n  nB = normalBorder;\n}"].join("\n"),[ke,Se,Ae,"void main(void) {\n  vec2 n = vec2(normal.x, aspect2 * normal.y);\n  float length = length(screen * n);\n  n = length == 0.0 ? vec2(0, 0) : n / length;\n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(( exc / 2.0 * n ), 0, 0) ; \n  vec4 pos = vec4(scale * ( relative*fontScale  + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0)+ transform * vec4(position, 0, 1)   ;\n\n   gl_Position = pos + shift + vec4(width  * normalBorder, 0, 0) ;\n   nB = normalBorder;\n}\n\n"].join("\n"),[ke,Se,Ae,"\nvoid main(void) {\n  vec4 shift = getShiftCurve() + getShiftCircle() + vec4(size * normal , 0, 0) ; \n  vec4 pos = vec4(scale * (relative * fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) \n    + transform * vec4(position, 0, 1);\n  \n  gl_Position = pos + shift + vec4(width * normalBorder, 0, 0) ;\n  nB = normalBorder;\n}"].join("\n");var Re=function(t,e){var r=e.x-t.x,n=e.y-t.y,i=1/Math.sqrt(r*r+n*n);return{x:i*r,y:i*n}};var Te=Number.EPSILON||1e-14;function Ce(t,e){return t>=e-Te&&t<=e+Te}var Pe={};function Ie(t,e,r,n){var o,s,a,h;i.getCurveShift(r,n),o=-n.y,s=n.x*t.aspect2;var u=o*t.width*o*t.width+s*t.height*s*t.height;if(Ce(u,0))o=0,s=0;else{var c=Math.sqrt(u);o*=.25*t.curveExc*e/c,s*=.25*t.curveExc*e/c}var l=2.5*t.nodeSize*e/t.width,f=2.5*t.nodeSize*e/t.height;a=.5*-n.cy*l,h=.5*n.cx*f,n.x=o+a,n.y=s+h}function Ne(t,e,r,n){var o,s,a,h,u=i.edgeSource(t),c=i.edgeTarget(t);o=u.x,a=u.y,s=c.x,h=c.y;var l=r(u,c),f=l.y,v=e.aspect2*-l.x,d=e.width*f,g=e.height*v,m=2*Math.sqrt(d*d+g*g);return f*=e.curveExc*n/(2*m),v*=e.curveExc*n/(2*m),Ie(e,n,u.e,Pe),o+=Pe.x,a+=Pe.y,Ie(e,n,c.e,Pe),[o,a,(o+(s+=Pe.x))/2+f,(a+(h+=Pe.y))/2+v,s,h]}function ze(t,e,r){var n,o,s,a={};n=(s=i.edgeSource(t)).x,o=s.y;var h=2.5*e.nodeSize*r,u=h/e.width/2,c=h/e.height/2,l=s.y<.5?1:-1;return Ie(e,r,s.e,a),[n+=a.x,o+=a.y,n+1*u,o+c*l,n,o+1.25*c*l,n-1*u,o+c*l]}function je(t,e,r){var n,o,s,a,h=i.edgeSource(t),u=i.edgeTarget(t);return n=h.x,o=h.y,s=u.x,a=u.y,Ie(e,r,h.e,Pe),n+=Pe.x,o+=Pe.y,Ie(e,r,u.e,Pe),[n,o,s+=Pe.x,a+=Pe.y]}function Ve(t,e,r,n,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function Oe(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){Ve(o,n,i,s,a,"next",t)}function a(t){Ve(o,n,i,s,a,"throw",t)}s(void 0)}))}}ccNetVizAdvanced.prototype.elementRenderers.svg=function(t,e){var r=this,n=s.getSVGDimensions(t).height,i=s.getSVGDimensions(t).width,o=[],a=[],h={},u={};u.height=parseInt(n)/2,u.width=parseInt(i)/2,u.aspect=1,u.aspect2=1,this.set=function(){var t=Oe(regeneratorRuntime.mark((function t(e,n,i){var s,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=u.length>3&&void 0!==u[3]?u[3]:{},a=n||[],(o=e||[]).forEach(he.checkUniqId),a.forEach(he.checkUniqId),h=he.getDrawEntites(o,a,i,s,"svg_context"),r.updateStyles(),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),this.updateStyles=function(){var r=e.styles.node=e.styles.node||{};if(r.minSize=null!=r.minSize?r.minSize:6,r.maxSize=r.maxSize||16,r.color=r.color||"rgb(255, 255, 255)",r.label){var n=r.label;n.color=n.color||"rgb(120, 120, 120)",n.font=n.font||{type:"Arial, Helvetica, sans-serif",size:11}}var i=e.styles.edge=e.styles.edge||{arrow:{}};if(i.width=i.width||1,i.color=i.color||"rgb(204, 04, 204)",i.label){var o=i.label;o.color=o.color||"rgb(120, 120, 120)",o.font=o.font||{type:"Arial, Helvetica, sans-serif",size:11}}if(i.arrow&&void 0!==i.arrow.texture){var a=i.arrow;a.minSize=null!=a.minSize?a.minSize:6,a.maxSize=a.maxSize||12,a.aspect=1}var c=s.getSize(t,e.styles.node,s.getNodesCnt(h),.4);r.size=c,u.nodeSize=c;var l=s.getSize(t,void 0,s.getEdgesCnt(h),.5);u.curveExc=l;for(var f=h.lines,v=0;v<f.length;v++){var d=f[v],g=je(d,u,1),m=g[0],p=g[1],w=g[2],y=g[3];d.position={x1:m,y1:p,x2:w,y2:y}}for(var x=h.curves,b=0;b<x.length;b++){var _=x[b],M=Ne(_,u,Re,1),S=M[0],E=M[1],k=M[2],A=M[3],R=M[4],T=M[5];_.curveExc=l,_.position={x1:S,y1:E,cx:k,cy:A,x2:R,y2:T}}for(var C=h.circles,P=0;P<C.length;P++){var I=C[P],N=ze(I,u,1),z=N[0],j=N[1],V=N[2],O=N[3],D=N[4],q=N[5],B=N[6],U=N[7];I.curveExc=l,I.position={x1:z,y1:j,cx1:V,cy1:O,x2:D,y2:q,cx2:B,cy2:U}}},this.draw=Oe(regeneratorRuntime.mark((function r(){var n,i,o,s,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.setAttribute("style","background-color:"+e.styles.background.color||!1),n={},i=new l,r.next=5,i.set(h,t,e.styles,n);case 5:return o=new d,r.next=8,o.set(h,t,e.styles,n);case 8:return s=new p,r.next=11,s.set(h,t,e.styles,n);case 11:return(new R).set(h,t,e.styles),a=new N,r.next=16,a.set(h,t,e.styles);case 16:case"end":return r.stop()}}),r)})))}}]);